import{d as wc,K as vc,u as s0,f as dn,h as Io,w as qo,j as l0,o as Mc,c as Sc,_ as d0,B as h0,x as D,t as cn,b as un,D as Ke,z as Yo,a as sn,N as p0}from"./chunks/framework.728801c0.js";import{a as Un,d as Qt,m as Ce,b as ut,R as Kr,r as xc,c as Ka,e as Ja,C as no,f as Bo,g as Wo,h as Ee,i as Tt,n as Cn,j as g0,k as m0,l as Ae,o as _c,p as $c,q as b0,s as y0,t as w0,u as Jr,v as De,w as Tc,x as Cc,y as v0,z as Be,A as to,B as M0,D as oa,E as S0,F as vr,G as Ec,H as Ft,I as bt,J as Pt}from"./chunks/util.eb9df7cf.js";import"./chunks/pinia.85955963.js";import"./chunks/theme.b20c132f.js";function eo(n){let t,e,r;n.length!==2?(t=Un,e=(f,c)=>Un(n(f),c),r=(f,c)=>n(f)-c):(t=n===Un||n===Qt?n:x0,e=n,r=n);function i(f,c,s=0,u=f.length){if(s<u){if(t(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<0?s=d+1:u=d}while(s<u)}return s}function a(f,c,s=0,u=f.length){if(s<u){if(t(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function o(f,c,s=0,u=f.length){const d=i(f,c,s,u-1);return d>s&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:o,right:a}}function x0(){return 0}function Ac(n){return n===null?NaN:+n}function*_0(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of n)(r=t(r,++e,n))!=null&&(r=+r)>=r&&(yield r)}}const $0=eo(Un),T0=$0.right;eo(Ac).center;const ro=T0;function C0(n){return n.length|0}function E0(n){return!(n>0)}function A0(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function D0(n){return t=>n(...t)}function N0(...n){const t=typeof n[n.length-1]=="function"&&D0(n.pop());n=n.map(A0);const e=n.map(C0),r=n.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||e.some(E0))return a;for(;;){a.push(i.map((f,c)=>n[c][f]));let o=r;for(;++i[o]===e[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function Dc(n,t){let e=0,r,i=0,a=0;if(t===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++e,a+=r*(o-i));else{let o=-1;for(let f of n)(f=t(f,++o,n))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,a+=r*(f-i))}if(e>1)return a/(e-1)}function k0(n,t){const e=Dc(n,t);return e&&Math.sqrt(e)}function Ht(n,t){let e,r;if(t===void 0)for(const i of n)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of n)(a=t(a,++i,n))!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}class Ct{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=e[i],o=t+a,f=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);f&&(e[r++]=f),t=o}return e[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let e=this._n,r,i,a,o=0;if(e>0){for(o=t[--e];e>0&&(r=o,i=t[--e],o=r+i,a=i-(o-r),!a););e>0&&(a<0&&t[e-1]<0||a>0&&t[e-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Mr extends Map{constructor(t,e=Lc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(fa(this,t))}has(t){return super.has(fa(this,t))}set(t,e){return super.set(kc(this,t),e)}delete(t){return super.delete(Rc(this,t))}}class Nc extends Set{constructor(t,e=Lc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(fa(this,t))}add(t){return super.add(kc(this,t))}delete(t){return super.delete(Rc(this,t))}}function fa({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function kc({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function Rc({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function Lc(n){return n!==null&&typeof n=="object"?n.valueOf():n}function R0(n){return n}function gr(n,t,...e){return L0(n,R0,t,e)}function L0(n,t,e,r){return function i(a,o){if(o>=r.length)return e(a);const f=new Mr,c=r[o++];let s=-1;for(const u of a){const d=c(u,++s,a),l=f.get(d);l?l.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,o));return t(f)}(n,0)}function O0(n,t){return Array.from(t,e=>n[e])}function Oc(n,...t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[e]=t;if(e&&e.length!==2||t.length>1){const r=Uint32Array.from(n,(i,a)=>a);return t.length>1?(t=t.map(i=>n.map(i)),r.sort((i,a)=>{for(const o of t){const f=Sr(o[i],o[a]);if(f)return f}})):(e=n.map(e),r.sort((i,a)=>Sr(e[i],e[a]))),O0(n,r)}return n.sort(Uc(e))}function Uc(n=Un){if(n===Un)return Sr;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function Sr(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const U0=Math.sqrt(50),F0=Math.sqrt(10),P0=Math.sqrt(2);function xr(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=U0?10:a>=F0?5:a>=P0?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/o,f=Math.round(n*s),c=Math.round(t*s),f/s<n&&++f,c/s>t&&--c,s=-s):(s=Math.pow(10,i)*o,f=Math.round(n/s),c=Math.round(t/s),f*s<n&&++f,c*s>t&&--c),c<f&&.5<=e&&e<2?xr(n,t,e*2):[f,c,s]}function _r(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,a,o]=r?xr(t,n,e):xr(n,t,e);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(o<0)for(let s=0;s<f;++s)c[s]=(a-s)/-o;else for(let s=0;s<f;++s)c[s]=(a-s)*o;else if(o<0)for(let s=0;s<f;++s)c[s]=(i+s)/-o;else for(let s=0;s<f;++s)c[s]=(i+s)*o;return c}function ca(n,t,e){return t=+t,n=+n,e=+e,xr(n,t,e)[2]}function ua(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?ca(t,n,e):ca(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function I0(n,t){let e,r=-1,i=-1;if(t===void 0)for(const a of n)++i,a!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of n)(a=t(a,++i,n))!=null&&(e<a||e===void 0&&a>=a)&&(e=a,r=i);return r}function q0(n,t){let e,r=-1,i=-1;if(t===void 0)for(const a of n)++i,a!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);else for(let a of n)(a=t(a,++i,n))!=null&&(e>a||e===void 0&&a>=a)&&(e=a,r=i);return r}function Fc(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?Sr:Uc(i);r>e;){if(r-e>600){const c=r-e+1,s=t-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(e,Math.floor(t-s*d/c+l)),p=Math.min(r,Math.floor(t+(c-s)*d/c+l));Fc(n,t,h,p,i)}const a=n[t];let o=e,f=r;for(fe(n,e,t),i(n[r],a)>0&&fe(n,e,r);o<f;){for(fe(n,o,f),++o,--f;i(n[o],a)<0;)++o;for(;i(n[f],a)>0;)--f}i(n[e],a)===0?fe(n,e,f):(++f,fe(n,f,r)),f<=t&&(e=f+1),t<=f&&(r=f-1)}return n}function fe(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function $r(n,t,e){if(n=Float64Array.from(_0(n,e)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return Ce(n);if(t>=1)return ut(n);var r,i=(r-1)*t,a=Math.floor(i),o=ut(Fc(n,a).subarray(0,a+1)),f=Ce(n.subarray(a+1));return o+(f-o)*(i-a)}}function Y0(n,t,e=Ac){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,a=Math.floor(i),o=+e(n[a],a,n),f=+e(n[a+1],a+1,n);return o+(f-o)*(i-a)}}function B0(n,t){let e=0,r=0;if(t===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of n)(a=t(a,++i,n))!=null&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function sa(n,t){return $r(n,.5,t)}function*W0(n){for(const t of n)yield*t}function Pc(n){return Array.from(W0(n))}function z0(n,t){const e=new Mr;if(t===void 0)for(let a of n)a!=null&&a>=a&&e.set(a,(e.get(a)||0)+1);else{let a=-1;for(let o of n)(o=t(o,++a,n))!=null&&o>=o&&e.set(o,(e.get(o)||0)+1)}let r,i=0;for(const[a,o]of e)o>i&&(i=o,r=a);return r}function Tr(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}const Ic=Math.PI/180,qc=180/Math.PI,Cr=18,Yc=.96422,Bc=1,Wc=.82521,zc=4/29,zt=6/29,Hc=3*zt*zt,H0=zt*zt*zt;function Vc(n){if(n instanceof Hn)return new Hn(n.l,n.a,n.b,n.opacity);if(n instanceof at)return Xc(n);n instanceof Kr||(n=xc(n));var t=Li(n.r),e=Li(n.g),r=Li(n.b),i=Ni((.2225045*t+.7168786*e+.0606169*r)/Bc),a,o;return t===e&&e===r?a=o=i:(a=Ni((.4360747*t+.3850649*e+.1430804*r)/Yc),o=Ni((.0139322*t+.0971045*e+.7141733*r)/Wc)),new Hn(116*i-16,500*(a-i),200*(i-o),n.opacity)}function la(n,t,e,r){return arguments.length===1?Vc(n):new Hn(n,t,e,r??1)}function Hn(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}Ka(Hn,la,Ja(no,{brighter(n){return new Hn(this.l+Cr*(n??1),this.a,this.b,this.opacity)},darker(n){return new Hn(this.l-Cr*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return t=Yc*ki(t),n=Bc*ki(n),e=Wc*ki(e),new Kr(Ri(3.1338561*t-1.6168667*n-.4906146*e),Ri(-.9787684*t+1.9161415*n+.033454*e),Ri(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}}));function Ni(n){return n>H0?Math.pow(n,1/3):n/Hc+zc}function ki(n){return n>zt?n*n*n:Hc*(n-zc)}function Ri(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Li(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function V0(n){if(n instanceof at)return new at(n.h,n.c,n.l,n.opacity);if(n instanceof Hn||(n=Vc(n)),n.a===0&&n.b===0)return new at(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*qc;return new at(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function da(n,t,e,r){return arguments.length===1?V0(n):new at(n,t,e,r??1)}function at(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function Xc(n){if(isNaN(n.h))return new Hn(n.l,0,0,n.opacity);var t=n.h*Ic;return new Hn(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}Ka(at,da,Ja(no,{brighter(n){return new at(this.h,this.c,this.l+Cr*(n??1),this.opacity)},darker(n){return new at(this.h,this.c,this.l-Cr*(n??1),this.opacity)},rgb(){return Xc(this).rgb()}}));var Gc=-.14861,io=1.78277,ao=-.29227,ni=-.90649,Ne=1.97294,zo=Ne*ni,Ho=Ne*io,Vo=io*ao-ni*Gc;function X0(n){if(n instanceof $t)return new $t(n.h,n.s,n.l,n.opacity);n instanceof Kr||(n=xc(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(Vo*r+zo*t-Ho*e)/(Vo+zo-Ho),a=r-i,o=(Ne*(e-i)-ao*a)/ni,f=Math.sqrt(o*o+a*a)/(Ne*i*(1-i)),c=f?Math.atan2(o,a)*qc-120:NaN;return new $t(c<0?c+360:c,f,i,n.opacity)}function Vn(n,t,e,r){return arguments.length===1?X0(n):new $t(n,t,e,r??1)}function $t(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}Ka($t,Vn,Ja(no,{brighter(n){return n=n==null?Bo:Math.pow(Bo,n),new $t(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Wo:Math.pow(Wo,n),new $t(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Ic,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new Kr(255*(t+e*(Gc*r+io*i)),255*(t+e*(ao*r+ni*i)),255*(t+e*(Ne*r)),this.opacity)}}));function G0(n){return Math.max(0,-Ee(Math.abs(n)))}function Z0(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ee(t)/3)))*3-Ee(Math.abs(n)))}function j0(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Ee(t)-Ee(n))+1}function Q0(n,t,e,r,i){var a=n*n,o=a*n;return((1-3*n+3*a-o)*t+(4-6*a+3*o)*e+(1+3*n+3*a-3*o)*r+o*i)/6}function K0(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=n[r],a=n[r+1],o=r>0?n[r-1]:2*i-a,f=r<t-1?n[r+2]:2*a-i;return Q0((e-r/t)*t,o,i,a,f)}}const Et=function n(t){var e=g0(t);function r(i,a){var o=e((i=Tt(i)).r,(a=Tt(a)).r),f=e(i.g,a.g),c=e(i.b,a.b),s=Cn(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=n,r}(1);function J0(n){return function(t){var e=t.length,r=new Array(e),i=new Array(e),a=new Array(e),o,f;for(o=0;o<e;++o)f=Tt(t[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=n(r),i=n(i),a=n(a),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=a(c),f+""}}}var nh=J0(K0);function th(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=n[i]*(1-a)+t[i]*a;return r}}function eh(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rh(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=We(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function ih(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function ln(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function ah(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=We(n[i],t[i]):r[i]=t[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var ha=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oi=new RegExp(ha.source,"g");function oh(n){return function(){return n}}function fh(n){return function(t){return n(t)+""}}function Zc(n,t){var e=ha.lastIndex=Oi.lastIndex=0,r,i,a,o=-1,f=[],c=[];for(n=n+"",t=t+"";(r=ha.exec(n))&&(i=Oi.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,c.push({i:o,x:ln(r,i)})),e=Oi.lastIndex;return e<t.length&&(a=t.slice(e),f[o]?f[o]+=a:f[++o]=a),f.length<2?c[0]?fh(c[0].x):oh(t):(t=c.length,function(s){for(var u=0,d;u<t;++u)f[(d=c[u]).i]=d.x(s);return f.join("")})}function We(n,t){var e=typeof t,r;return t==null||e==="boolean"?m0(t):(e==="number"?ln:e==="string"?(r=Ae(t))?(t=r,Et):Zc:t instanceof Ae?Et:t instanceof Date?ih:eh(t)?th:Array.isArray(t)?rh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ah:ln)(n,t)}function oo(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var Xo=180/Math.PI,pa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jc(n,t,e,r,i,a){var o,f,c;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(c=n*e+t*r)&&(e-=n*c,r-=t*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),n*r<t*e&&(n=-n,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,n)*Xo,skewX:Math.atan(c)*Xo,scaleX:o,scaleY:f}}var Je;function ch(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?pa:jc(t.a,t.b,t.c,t.d,t.e,t.f)}function uh(n){return n==null||(Je||(Je=document.createElementNS("http://www.w3.org/2000/svg","g")),Je.setAttribute("transform",n),!(n=Je.transform.baseVal.consolidate()))?pa:(n=n.matrix,jc(n.a,n.b,n.c,n.d,n.e,n.f))}function Qc(n,t,e,r){function i(s){return s.length?s.pop()+" ":""}function a(s,u,d,l,h,p){if(s!==d||u!==l){var m=h.push("translate(",null,t,null,e);p.push({i:m-4,x:ln(s,d)},{i:m-2,x:ln(u,l)})}else(d||l)&&h.push("translate("+d+t+l+e)}function o(s,u,d,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ln(s,u)})):u&&d.push(i(d)+"rotate("+u+r)}function f(s,u,d,l){s!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ln(s,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(s,u,d,l,h,p){if(s!==d||u!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:ln(s,d)},{i:m-2,x:ln(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,u){var d=[],l=[];return s=n(s),u=n(u),a(s.translateX,s.translateY,u.translateX,u.translateY,d,l),o(s.rotate,u.rotate,d,l),f(s.skewX,u.skewX,d,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,d,l),s=u=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var sh=Qc(ch,"px, ","px)","deg)"),lh=Qc(uh,", ",")",")");function dh(n,t){var e=Cn((n=la(n)).l,(t=la(t)).l),r=Cn(n.a,t.a),i=Cn(n.b,t.b),a=Cn(n.opacity,t.opacity);return function(o){return n.l=e(o),n.a=r(o),n.b=i(o),n.opacity=a(o),n+""}}function hh(n){return function(t,e){var r=n((t=da(t)).h,(e=da(e)).h),i=Cn(t.c,e.c),a=Cn(t.l,e.l),o=Cn(t.opacity,e.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const ph=hh(_c);function Kc(n){return function t(e){e=+e;function r(i,a){var o=n((i=Vn(i)).h,(a=Vn(a)).h),f=Cn(i.s,a.s),c=Cn(i.l,a.l),s=Cn(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=t,r}(1)}Kc(_c);var fo=Kc(Cn);function co(n,t){t===void 0&&(t=n,n=We);for(var e=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);e<r;)a[e]=n(i,i=t[++e]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Fn(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e}function gh(n){return n}var Ui=1,Fi=2,ga=3,nr=4,Go=1e-6;function mh(n){return"translate("+n+",0)"}function bh(n){return"translate(0,"+n+")"}function yh(n){return t=>+n(t)}function wh(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function vh(){return!this.__axis}function Mh(n,t){var e=[],r=null,i=null,a=6,o=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=n===Ui||n===nr?-1:1,u=n===nr||n===Fi?"x":"y",d=n===Ui||n===ga?mh:bh;function l(h){var p=r??(t.ticks?t.ticks.apply(t,e):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,e):gh),g=Math.max(a,0)+f,y=t.range(),v=+y[0]+c,w=+y[y.length-1]+c,b=(t.bandwidth?wh:yh)(t.copy(),c),S=h.selection?h.selection():h,x=S.selectAll(".domain").data([null]),_=S.selectAll(".tick").data(p,t).order(),N=_.exit(),k=_.enter().append("g").attr("class","tick"),L=_.select("line"),A=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(k),L=L.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),A=A.merge(k.append("text").attr("fill","currentColor").attr(u,s*g).attr("dy",n===Ui?"0em":n===ga?"0.71em":"0.32em")),h!==S&&(x=x.transition(h),_=_.transition(h),L=L.transition(h),A=A.transition(h),N=N.transition(h).attr("opacity",Go).attr("transform",function(U){return isFinite(U=b(U))?d(U+c):this.getAttribute("transform")}),k.attr("opacity",Go).attr("transform",function(U){var $=this.parentNode.__axis;return d(($&&isFinite($=$(U))?$:b(U))+c)})),N.remove(),x.attr("d",n===nr||n===Fi?o?"M"+s*o+","+v+"H"+c+"V"+w+"H"+s*o:"M"+c+","+v+"V"+w:o?"M"+v+","+s*o+"V"+c+"H"+w+"V"+s*o:"M"+v+","+c+"H"+w),_.attr("opacity",1).attr("transform",function(U){return d(b(U)+c)}),L.attr(u+"2",s*a),A.attr(u,s*g).text(m),S.filter(vh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Fi?"start":n===nr?"end":"middle"),S.each(function(){this.__axis=b})}return l.scale=function(h){return arguments.length?(t=h,l):t},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function Sh(n){return Mh(ga,n)}var xh={value:()=>{}};function Jc(){for(var n=0,t=arguments.length,e={},r;n<t;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new mr(e)}function mr(n){this._=n}function _h(n,t){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}mr.prototype=Jc.prototype={constructor:mr,on:function(n,t){var e=this._,r=_h(n+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(n=r[a]).type)&&(i=$h(e[i],n.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(n=r[a]).type)e[i]=Zo(e[i],n.name,t);else if(t==null)for(i in e)e[i]=Zo(e[i],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new mr(n)},call:function(n,t){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],r=0,i=a.length;r<i;++r)a[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,a=r.length;i<a;++i)r[i].value.apply(t,e)}};function $h(n,t){for(var e=0,r=n.length,i;e<r;++e)if((i=n[e]).name===t)return i.value}function Zo(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=xh,n=n.slice(0,r).concat(n.slice(r+1));break}return e!=null&&n.push({name:t,value:e}),n}var Vt=0,pe=0,ce=0,nu=1e3,Er,ge,Ar=0,At=0,ti=0,ke=typeof performance=="object"&&performance.now?performance:Date,tu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function uo(){return At||(tu(Th),At=ke.now()+ti)}function Th(){At=0}function Dr(){this._call=this._time=this._next=null}Dr.prototype=eu.prototype={constructor:Dr,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?uo():+e)+(t==null?0:+t),!this._next&&ge!==this&&(ge?ge._next=this:Er=this,ge=this),this._call=n,this._time=e,ma()},stop:function(){this._call&&(this._call=null,this._time=1/0,ma())}};function eu(n,t,e){var r=new Dr;return r.restart(n,t,e),r}function Ch(){uo(),++Vt;for(var n=Er,t;n;)(t=At-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Vt}function jo(){At=(Ar=ke.now())+ti,Vt=pe=0;try{Ch()}finally{Vt=0,Ah(),At=0}}function Eh(){var n=ke.now(),t=n-Ar;t>nu&&(ti-=t,Ar=n)}function Ah(){for(var n,t=Er,e,r=1/0;t;)t._call?(r>t._time&&(r=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Er=e);ge=n,ma(r)}function ma(n){if(!Vt){pe&&(pe=clearTimeout(pe));var t=n-At;t>24?(n<1/0&&(pe=setTimeout(jo,n-ke.now()-ti)),ce&&(ce=clearInterval(ce))):(ce||(Ar=ke.now(),ce=setInterval(Eh,nu)),Vt=1,tu(jo))}}function Qo(n,t,e){var r=new Dr;return t=t==null?0:+t,r.restart(i=>{r.stop(),n(i+t)},t,e),r}var Dh=Jc("start","end","cancel","interrupt"),Nh=[],ru=0,Ko=1,ba=2,br=3,Jo=4,ya=5,yr=6;function ei(n,t,e,r,i,a){var o=n.__transition;if(!o)n.__transition={};else if(e in o)return;kh(n,e,{name:t,index:r,group:i,on:Dh,tween:Nh,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ru})}function so(n,t){var e=In(n,t);if(e.state>ru)throw new Error("too late; already scheduled");return e}function jn(n,t){var e=In(n,t);if(e.state>br)throw new Error("too late; already running");return e}function In(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function kh(n,t,e){var r=n.__transition,i;r[t]=e,e.timer=eu(a,0,e.time);function a(s){e.state=Ko,e.timer.restart(o,e.delay,e.time),e.delay<=s&&o(s-e.delay)}function o(s){var u,d,l,h;if(e.state!==Ko)return c();for(u in r)if(h=r[u],h.name===e.name){if(h.state===br)return Qo(o);h.state===Jo?(h.state=yr,h.timer.stop(),h.on.call("interrupt",n,n.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=yr,h.timer.stop(),h.on.call("cancel",n,n.__data__,h.index,h.group),delete r[u])}if(Qo(function(){e.state===br&&(e.state=Jo,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=ba,e.on.call("start",n,n.__data__,e.index,e.group),e.state===ba){for(e.state=br,i=new Array(l=e.tween.length),u=0,d=-1;u<l;++u)(h=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=ya,1),d=-1,l=i.length;++d<l;)i[d].call(n,u);e.state===ya&&(e.on.call("end",n,n.__data__,e.index,e.group),c())}function c(){e.state=yr,e.timer.stop(),delete r[t];for(var s in r)return;delete n.__transition}}function Rh(n,t){var e=n.__transition,r,i,a=!0,o;if(e){t=t==null?null:t+"";for(o in e){if((r=e[o]).name!==t){a=!1;continue}i=r.state>ba&&r.state<ya,r.state=yr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[o]}a&&delete n.__transition}}function Lh(n){return this.each(function(){Rh(this,n)})}function Oh(n,t){var e,r;return function(){var i=jn(this,n),a=i.tween;if(a!==e){r=e=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Uh(n,t,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=jn(this,n),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:t,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===t){i[c]=f;break}c===s&&i.push(f)}a.tween=i}}function Fh(n,t){var e=this._id;if(n+="",arguments.length<2){for(var r=In(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((t==null?Oh:Uh)(e,n,t))}function lo(n,t,e){var r=n._id;return n.each(function(){var i=jn(this,r);(i.value||(i.value={}))[t]=e.apply(this,arguments)}),function(i){return In(i,r).value[t]}}function iu(n,t){var e;return(typeof t=="number"?ln:t instanceof Ae?Et:(e=Ae(t))?(t=e,Et):Zc)(n,t)}function Ph(n){return function(){this.removeAttribute(n)}}function Ih(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qh(n,t,e){var r,i=e+"",a;return function(){var o=this.getAttribute(n);return o===i?null:o===r?a:a=t(r=o,e)}}function Yh(n,t,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?a:a=t(r=o,e)}}function Bh(n,t,e){var r,i,a;return function(){var o,f=e(this),c;return f==null?void this.removeAttribute(n):(o=this.getAttribute(n),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,f)))}}function Wh(n,t,e){var r,i,a;return function(){var o,f=e(this),c;return f==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,f)))}}function zh(n,t){var e=$c(n),r=e==="transform"?lh:iu;return this.attrTween(n,typeof t=="function"?(e.local?Wh:Bh)(e,r,lo(this,"attr."+n,t)):t==null?(e.local?Ih:Ph)(e):(e.local?Yh:qh)(e,r,t))}function Hh(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Vh(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Xh(n,t){var e,r;function i(){var a=t.apply(this,arguments);return a!==r&&(e=(r=a)&&Vh(n,a)),e}return i._value=t,i}function Gh(n,t){var e,r;function i(){var a=t.apply(this,arguments);return a!==r&&(e=(r=a)&&Hh(n,a)),e}return i._value=t,i}function Zh(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var r=$c(n);return this.tween(e,(r.local?Xh:Gh)(r,t))}function jh(n,t){return function(){so(this,n).delay=+t.apply(this,arguments)}}function Qh(n,t){return t=+t,function(){so(this,n).delay=t}}function Kh(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?jh:Qh)(t,n)):In(this.node(),t).delay}function Jh(n,t){return function(){jn(this,n).duration=+t.apply(this,arguments)}}function n1(n,t){return t=+t,function(){jn(this,n).duration=t}}function t1(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Jh:n1)(t,n)):In(this.node(),t).duration}function e1(n,t){if(typeof t!="function")throw new Error;return function(){jn(this,n).ease=t}}function r1(n){var t=this._id;return arguments.length?this.each(e1(t,n)):In(this.node(),t).ease}function i1(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;jn(this,n).ease=e}}function a1(n){if(typeof n!="function")throw new Error;return this.each(i1(this._id,n))}function o1(n){typeof n!="function"&&(n=b0(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var a=t[i],o=a.length,f=r[i]=[],c,s=0;s<o;++s)(c=a[s])&&n.call(c,c.__data__,s,a)&&f.push(c);return new st(r,this._parents,this._name,this._id)}function f1(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,i=e.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var c=t[f],s=e[f],u=c.length,d=o[f]=new Array(u),l,h=0;h<u;++h)(l=c[h]||s[h])&&(d[h]=l);for(;f<r;++f)o[f]=t[f];return new st(o,this._parents,this._name,this._id)}function c1(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function u1(n,t,e){var r,i,a=c1(t)?so:jn;return function(){var o=a(this,n),f=o.on;f!==r&&(i=(r=f).copy()).on(t,e),o.on=i}}function s1(n,t){var e=this._id;return arguments.length<2?In(this.node(),e).on.on(n):this.each(u1(e,n,t))}function l1(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function d1(){return this.on("end.remove",l1(this._id))}function h1(n){var t=this._name,e=this._id;typeof n!="function"&&(n=y0(n));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],c=f.length,s=a[o]=new Array(c),u,d,l=0;l<c;++l)(u=f[l])&&(d=n.call(u,u.__data__,l,f))&&("__data__"in u&&(d.__data__=u.__data__),s[l]=d,ei(s[l],t,e,l,s,In(u,e)));return new st(a,this._parents,t,e)}function p1(n){var t=this._name,e=this._id;typeof n!="function"&&(n=w0(n));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,d=0;d<s;++d)if(u=c[d]){for(var l=n.call(u,u.__data__,d,c),h,p=In(u,e),m=0,g=l.length;m<g;++m)(h=l[m])&&ei(h,t,e,m,l,p);a.push(l),o.push(u)}return new st(a,o,t,e)}var g1=Jr.prototype.constructor;function m1(){return new g1(this._groups,this._parents)}function b1(n,t){var e,r,i;return function(){var a=De(this,n),o=(this.style.removeProperty(n),De(this,n));return a===o?null:a===e&&o===r?i:i=t(e=a,r=o)}}function au(n){return function(){this.style.removeProperty(n)}}function y1(n,t,e){var r,i=e+"",a;return function(){var o=De(this,n);return o===i?null:o===r?a:a=t(r=o,e)}}function w1(n,t,e){var r,i,a;return function(){var o=De(this,n),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(n),De(this,n))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,f))}}function v1(n,t){var e,r,i,a="style."+t,o="end."+a,f;return function(){var c=jn(this,n),s=c.on,u=c.value[a]==null?f||(f=au(t)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(o,i=u),c.on=r}}function M1(n,t,e){var r=(n+="")=="transform"?sh:iu;return t==null?this.styleTween(n,b1(n,r)).on("end.style."+n,au(n)):typeof t=="function"?this.styleTween(n,w1(n,r,lo(this,"style."+n,t))).each(v1(this._id,n)):this.styleTween(n,y1(n,r,t),e).on("end.style."+n,null)}function S1(n,t,e){return function(r){this.style.setProperty(n,t.call(this,r),e)}}function x1(n,t,e){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&S1(n,o,e)),r}return a._value=t,a}function _1(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,x1(n,t,e??""))}function $1(n){return function(){this.textContent=n}}function T1(n){return function(){var t=n(this);this.textContent=t??""}}function C1(n){return this.tween("text",typeof n=="function"?T1(lo(this,"text",n)):$1(n==null?"":n+""))}function E1(n){return function(t){this.textContent=n.call(this,t)}}function A1(n){var t,e;function r(){var i=n.apply(this,arguments);return i!==e&&(t=(e=i)&&E1(i)),t}return r._value=n,r}function D1(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,A1(n))}function N1(){for(var n=this._name,t=this._id,e=ou(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)if(c=o[s]){var u=In(c,t);ei(c,n,e,s,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new st(r,this._parents,n,e)}function k1(){var n,t,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var f={value:o},c={value:function(){--i===0&&a()}};e.each(function(){var s=jn(this,r),u=s.on;u!==n&&(t=(n=u).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(c)),s.on=t}),i===0&&a()})}var R1=0;function st(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function ou(){return++R1}var Jn=Jr.prototype;st.prototype={constructor:st,select:h1,selectAll:p1,selectChild:Jn.selectChild,selectChildren:Jn.selectChildren,filter:o1,merge:f1,selection:m1,transition:N1,call:Jn.call,nodes:Jn.nodes,node:Jn.node,size:Jn.size,empty:Jn.empty,each:Jn.each,on:s1,attr:zh,attrTween:Zh,style:M1,styleTween:_1,text:C1,textTween:D1,remove:d1,tween:Fh,delay:Kh,duration:t1,ease:r1,easeVarying:a1,end:k1,[Symbol.iterator]:Jn[Symbol.iterator]};function L1(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var O1={time:null,delay:0,duration:250,ease:L1};function U1(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function F1(n){var t,e;n instanceof st?(t=n._id,n=n._name):(t=ou(),(e=O1).time=uo(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)(c=o[s])&&ei(c,n,t,s,o,e||U1(c,t));return new st(r,this._parents,n,t)}Jr.prototype.interrupt=Lh;Jr.prototype.transition=F1;const wa=Math.PI,va=2*wa,_t=1e-6,P1=va-_t;function fu(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function I1(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return fu;const e=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class q1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fu:I1(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,a,o){this._append`C${+t},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,e,r,i,a){if(t=+t,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,f=this._y1,c=r-t,s=i-e,u=o-t,d=f-e,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(l>_t)if(!(Math.abs(d*c-s*u)>_t)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let h=r-o,p=i-f,m=c*c+s*s,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(l),w=a*Math.tan((wa-Math.acos((m+l-g)/(2*y*v)))/2),b=w/v,S=w/y;Math.abs(b-1)>_t&&this._append`L${t+b*u},${e+b*d}`,this._append`A${a},${a},0,0,${+(d*h>u*p)},${this._x1=t+S*c},${this._y1=e+S*s}`}}arc(t,e,r,i,a,o){if(t=+t,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=t+f,u=e+c,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>_t||Math.abs(this._y1-u)>_t)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%va+va),l>P1?this._append`A${r},${r},0,1,${d},${t-f},${e-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>_t&&this._append`A${r},${r},0,${+(l>=wa)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ma(n=3){return new q1(+n)}var P=1e-6,cu=1e-12,Y=Math.PI,nn=Y/2,nf=Y/4,_n=Y*2,pn=180/Y,J=Y/180,Z=Math.abs,Kt=Math.atan,lt=Math.atan2,q=Math.cos,uu=Math.exp,Nr=Math.log,Pi=Math.pow,F=Math.sin,En=Math.sign||function(n){return n>0?1:n<0?-1:0},yn=Math.sqrt,ho=Math.tan;function su(n){return n>1?0:n<-1?Y:Math.acos(n)}function kn(n){return n>1?nn:n<-1?-nn:Math.asin(n)}function An(){}function kr(n,t){n&&ef.hasOwnProperty(n.type)&&ef[n.type](n,t)}var tf={Feature:function(n,t){kr(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)kr(e[r].geometry,t)}},ef={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Sa(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Sa(e[r],t,0)},Polygon:function(n,t){rf(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)rf(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)kr(e[r],t)}};function Sa(n,t,e){var r=-1,i=n.length-e,a;for(t.lineStart();++r<i;)a=n[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function rf(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Sa(n[e],t,1);t.polygonEnd()}function Yt(n,t){n&&tf.hasOwnProperty(n.type)?tf[n.type](n,t):kr(n,t)}function xa(n){return[lt(n[1],n[0]),kn(n[2])]}function Xt(n){var t=n[0],e=n[1],r=q(e);return[r*q(t),r*F(t),F(e)]}function tr(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Rr(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Ii(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function er(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _a(n){var t=yn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function $a(n,t){function e(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(e.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),e}function Ta(n,t){return Z(n)>Y&&(n-=Math.round(n/_n)*_n),[n,t]}Ta.invert=Ta;function lu(n,t,e){return(n%=_n)?t||e?$a(of(n),ff(t,e)):of(n):t||e?ff(t,e):Ta}function af(n){return function(t,e){return t+=n,Z(t)>Y&&(t-=Math.round(t/_n)*_n),[t,e]}}function of(n){var t=af(n);return t.invert=af(-n),t}function ff(n,t){var e=q(n),r=F(n),i=q(t),a=F(t);function o(f,c){var s=q(c),u=q(f)*s,d=F(f)*s,l=F(c),h=l*e+u*r;return[lt(d*i-h*a,u*e-l*r),kn(h*i+d*a)]}return o.invert=function(f,c){var s=q(c),u=q(f)*s,d=F(f)*s,l=F(c),h=l*i-d*a;return[lt(d*i+l*a,u*e+h*r),kn(h*e-u*r)]},o}function Y1(n){n=lu(n[0]*J,n[1]*J,n.length>2?n[2]*J:0);function t(e){return e=n(e[0]*J,e[1]*J),e[0]*=pn,e[1]*=pn,e}return t.invert=function(e){return e=n.invert(e[0]*J,e[1]*J),e[0]*=pn,e[1]*=pn,e},t}function B1(n,t,e,r,i,a){if(e){var o=q(t),f=F(t),c=r*e;i==null?(i=t+r*_n,a=t-c/2):(i=cf(o,i),a=cf(o,a),(r>0?i<a:i>a)&&(i+=r*_n));for(var s,u=i;r>0?u>a:u<a;u-=c)s=xa([o,-f*q(u),-f*F(u)]),n.point(s[0],s[1])}}function cf(n,t){t=Xt(t),t[0]-=n,_a(t);var e=su(-t[1]);return((-t[2]<0?-e:e)+_n-P)%_n}function du(){var n=[],t;return{point:function(e,r,i){t.push([e,r,i])},lineStart:function(){n.push(t=[])},lineEnd:An,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function wr(n,t){return Z(n[0]-t[0])<P&&Z(n[1]-t[1])<P}function rr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function hu(n,t,e,r,i){var a=[],o=[],f,c;if(n.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(wr(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*P}a.push(v=new rr(g,p,null,!0)),o.push(v.o=new rr(g,null,v,!1)),a.push(v=new rr(y,p,null,!1)),o.push(v.o=new rr(y,null,v,!0))}}),!!a.length){for(o.sort(t),uf(a),uf(o),f=0,c=o.length;f<c;++f)o[f].e=e=!e;for(var s=a[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function uf(n){if(t=n.length){for(var t,e=0,r=n[0],i;++e<t;)r.n=i=n[e],i.p=r,r=i;r.n=i=n[0],i.p=r}}function qi(n){return Z(n[0])<=Y?n[0]:En(n[0])*((Z(n[0])+Y)%_n-Y)}function W1(n,t){var e=qi(t),r=t[1],i=F(r),a=[F(e),-q(e),0],o=0,f=0,c=new Ct;i===1?r=nn+P:i===-1&&(r=-nn-P);for(var s=0,u=n.length;s<u;++s)if(l=(d=n[s]).length)for(var d,l,h=d[l-1],p=qi(h),m=h[1]/2+nf,g=F(m),y=q(m),v=0;v<l;++v,p=b,g=x,y=_,h=w){var w=d[v],b=qi(w),S=w[1]/2+nf,x=F(S),_=q(S),N=b-p,k=N>=0?1:-1,L=k*N,A=L>Y,U=g*x;if(c.add(lt(U*k*F(L),y*_+U*q(L))),o+=A?N+k*_n:N,A^p>=e^b>=e){var $=Rr(Xt(h),Xt(w));_a($);var C=Rr(a,$);_a(C);var M=(A^N>=0?-1:1)*kn(C[2]);(r>M||r===M&&($[0]||$[1]))&&(f+=A^N>=0?1:-1)}}return(o<-P||o<P&&c<-cu)^f&1}function pu(n,t,e,r){return function(i){var a=t(i),o=du(),f=t(o),c=!1,s,u,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=v,l.lineEnd=w,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,u=Pc(u);var b=W1(s,r);u.length?(c||(i.polygonStart(),c=!0),hu(u,H1,b,e,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,S){n(b,S)&&i.point(b,S)}function p(b,S){a.point(b,S)}function m(){l.point=p,a.lineStart()}function g(){l.point=h,a.lineEnd()}function y(b,S){d.push([b,S]),f.point(b,S)}function v(){f.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),f.lineEnd();var b=f.clean(),S=o.result(),x,_=S.length,N,k,L;if(d.pop(),s.push(d),d=null,!!_){if(b&1){if(k=S[0],(N=k.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<N;++x)i.point((L=k[x])[0],L[1]);i.lineEnd()}return}_>1&&b&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(z1))}}return l}}function z1(n){return n.length>1}function H1(n,t){return((n=n.x)[0]<0?n[1]-nn-P:nn-n[1])-((t=t.x)[0]<0?t[1]-nn-P:nn-t[1])}const sf=pu(function(){return!0},V1,G1,[-Y,-nn]);function V1(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,o){var f=a>0?Y:-Y,c=Z(a-t);Z(c-Y)<P?(n.point(t,e=(e+o)/2>0?nn:-nn),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(a,e),i=0):r!==f&&c>=Y&&(Z(t-r)<P&&(t-=r*P),Z(a-f)<P&&(a-=f*P),e=X1(t,e,a,o),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(f,e),i=0),n.point(t=a,e=o),r=f},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-i}}}function X1(n,t,e,r){var i,a,o=F(n-e);return Z(o)>P?Kt((F(t)*(a=q(r))*F(e)-F(r)*(i=q(t))*F(n))/(i*a*o)):(t+r)/2}function G1(n,t,e,r){var i;if(n==null)i=e*nn,r.point(-Y,i),r.point(0,i),r.point(Y,i),r.point(Y,0),r.point(Y,-i),r.point(0,-i),r.point(-Y,-i),r.point(-Y,0),r.point(-Y,i);else if(Z(n[0]-t[0])>P){var a=n[0]<t[0]?Y:-Y;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Z1(n){var t=q(n),e=6*J,r=t>0,i=Z(t)>P;function a(u,d,l,h){B1(h,n,e,l,u,d)}function o(u,d){return q(u)*q(d)>t}function f(u){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],w,b=o(g,y),S=r?b?0:s(g,y):b?s(g+(g<0?Y:-Y),y):0;if(!d&&(p=h=b)&&u.lineStart(),b!==h&&(w=c(d,v),(!w||wr(d,w)||wr(v,w))&&(v[2]=1)),b!==h)m=0,b?(u.lineStart(),w=c(v,d),u.point(w[0],w[1])):(w=c(d,v),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^b){var x;!(S&l)&&(x=c(v,d,!0))&&(m=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}b&&(!d||!wr(d,v))&&u.point(v[0],v[1]),d=v,h=b,l=S},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function c(u,d,l){var h=Xt(u),p=Xt(d),m=[1,0,0],g=Rr(h,p),y=tr(g,g),v=g[0],w=y-v*v;if(!w)return!l&&u;var b=t*y/w,S=-t*v/w,x=Rr(m,g),_=er(m,b),N=er(g,S);Ii(_,N);var k=x,L=tr(_,k),A=tr(k,k),U=L*L-A*(tr(_,_)-1);if(!(U<0)){var $=yn(U),C=er(k,(-L-$)/A);if(Ii(C,_),C=xa(C),!l)return C;var M=u[0],E=d[0],O=u[1],W=d[1],z;E<M&&(z=M,M=E,E=z);var G=E-M,j=Z(G-Y)<P,mn=j||G<P;if(!j&&W<O&&(z=O,O=W,W=z),mn?j?O+W>0^C[1]<(Z(C[0]-M)<P?O:W):O<=C[1]&&C[1]<=W:G>Y^(M<=C[0]&&C[0]<=E)){var wn=er(k,(-L+$)/A);return Ii(wn,_),[C,xa(wn)]}}}function s(u,d){var l=r?n:Y-n,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return pu(o,f,a,r?[0,-n]:[-Y,n-Y])}function j1(n,t,e,r,i,a){var o=n[0],f=n[1],c=t[0],s=t[1],u=0,d=1,l=c-o,h=s-f,p;if(p=e-o,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=a-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(n[0]=o+u*l,n[1]=f+u*h),d<1&&(t[0]=o+d*l,t[1]=f+d*h),!0}}}}}var me=1e9,ir=-me;function gu(n,t,e,r){function i(s,u){return n<=s&&s<=e&&t<=u&&u<=r}function a(s,u,d,l){var h=0,p=0;if(s==null||(h=o(s,d))!==(p=o(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?n:e,h>1?r:t);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function o(s,u){return Z(s[0]-n)<P?u>0?0:3:Z(s[0]-e)<P?u>0?2:1:Z(s[1]-t)<P?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var d=o(s,1),l=o(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=du(),l,h,p,m,g,y,v,w,b,S,x,_={point:N,lineStart:U,lineEnd:$,polygonStart:L,polygonEnd:A};function N(M,E){i(M,E)&&u.point(M,E)}function k(){for(var M=0,E=0,O=h.length;E<O;++E)for(var W=h[E],z=1,G=W.length,j=W[0],mn,wn,mt=j[0],qn=j[1];z<G;++z)mn=mt,wn=qn,j=W[z],mt=j[0],qn=j[1],wn<=r?qn>r&&(mt-mn)*(r-wn)>(qn-wn)*(n-mn)&&++M:qn<=r&&(mt-mn)*(r-wn)<(qn-wn)*(n-mn)&&--M;return M}function L(){u=d,l=[],h=[],x=!0}function A(){var M=k(),E=x&&M,O=(l=Pc(l)).length;(E||O)&&(s.polygonStart(),E&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),O&&hu(l,f,M,a,s),s.polygonEnd()),u=s,l=h=p=null}function U(){_.point=C,h&&h.push(p=[]),S=!0,b=!1,v=w=NaN}function $(){l&&(C(m,g),y&&b&&d.rejoin(),l.push(d.result())),_.point=N,b&&u.lineEnd()}function C(M,E){var O=i(M,E);if(h&&p.push([M,E]),S)m=M,g=E,y=O,S=!1,O&&(u.lineStart(),u.point(M,E));else if(O&&b)u.point(M,E);else{var W=[v=Math.max(ir,Math.min(me,v)),w=Math.max(ir,Math.min(me,w))],z=[M=Math.max(ir,Math.min(me,M)),E=Math.max(ir,Math.min(me,E))];j1(W,z,n,t,e,r)?(b||(u.lineStart(),u.point(W[0],W[1])),u.point(z[0],z[1]),O||u.lineEnd(),x=!1):O&&(u.lineStart(),u.point(M,E),x=!1)}v=M,w=E,b=O}return _}}const Ca=n=>n;var Yi=new Ct,Ea=new Ct,mu,bu,Aa,Da,yt={point:An,lineStart:An,lineEnd:An,polygonStart:function(){yt.lineStart=Q1,yt.lineEnd=J1},polygonEnd:function(){yt.lineStart=yt.lineEnd=yt.point=An,Yi.add(Z(Ea)),Ea=new Ct},result:function(){var n=Yi/2;return Yi=new Ct,n}};function Q1(){yt.point=K1}function K1(n,t){yt.point=yu,mu=Aa=n,bu=Da=t}function yu(n,t){Ea.add(Da*n-Aa*t),Aa=n,Da=t}function J1(){yu(mu,bu)}const lf=yt;var Gt=1/0,Lr=Gt,Re=-Gt,Or=Re,np={point:tp,lineStart:An,lineEnd:An,polygonStart:An,polygonEnd:An,result:function(){var n=[[Gt,Lr],[Re,Or]];return Re=Or=-(Lr=Gt=1/0),n}};function tp(n,t){n<Gt&&(Gt=n),n>Re&&(Re=n),t<Lr&&(Lr=t),t>Or&&(Or=t)}const Ur=np;var Na=0,ka=0,be=0,Fr=0,Pr=0,Bt=0,Ra=0,La=0,ye=0,wu,vu,Yn,Bn,Ln={point:Dt,lineStart:df,lineEnd:hf,polygonStart:function(){Ln.lineStart=ip,Ln.lineEnd=ap},polygonEnd:function(){Ln.point=Dt,Ln.lineStart=df,Ln.lineEnd=hf},result:function(){var n=ye?[Ra/ye,La/ye]:Bt?[Fr/Bt,Pr/Bt]:be?[Na/be,ka/be]:[NaN,NaN];return Na=ka=be=Fr=Pr=Bt=Ra=La=ye=0,n}};function Dt(n,t){Na+=n,ka+=t,++be}function df(){Ln.point=ep}function ep(n,t){Ln.point=rp,Dt(Yn=n,Bn=t)}function rp(n,t){var e=n-Yn,r=t-Bn,i=yn(e*e+r*r);Fr+=i*(Yn+n)/2,Pr+=i*(Bn+t)/2,Bt+=i,Dt(Yn=n,Bn=t)}function hf(){Ln.point=Dt}function ip(){Ln.point=op}function ap(){Mu(wu,vu)}function op(n,t){Ln.point=Mu,Dt(wu=Yn=n,vu=Bn=t)}function Mu(n,t){var e=n-Yn,r=t-Bn,i=yn(e*e+r*r);Fr+=i*(Yn+n)/2,Pr+=i*(Bn+t)/2,Bt+=i,i=Bn*n-Yn*t,Ra+=i*(Yn+n),La+=i*(Bn+t),ye+=i*3,Dt(Yn=n,Bn=t)}const pf=Ln;function Su(n){this._context=n}Su.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,_n);break}}},result:An};var Oa=new Ct,Bi,xu,_u,we,ve,Ir={point:An,lineStart:function(){Ir.point=fp},lineEnd:function(){Bi&&$u(xu,_u),Ir.point=An},polygonStart:function(){Bi=!0},polygonEnd:function(){Bi=null},result:function(){var n=+Oa;return Oa=new Ct,n}};function fp(n,t){Ir.point=$u,xu=we=n,_u=ve=t}function $u(n,t){we-=n,ve-=t,Oa.add(yn(we*we+ve*ve)),we=n,ve=t}const gf=Ir;let mf,qr,bf,yf;class wf{constructor(t){this._append=t==null?Tu:cp(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==bf||this._append!==qr){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,bf=r,qr=this._append,yf=this._,this._=i}this._+=yf;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Tu(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function cp(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Tu;if(t!==mf){const e=10**t;mf=t,qr=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*e)/e+i[a]}}return qr}function Cu(n,t){let e=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Yt(f,i(a))),a.result()}return o.area=function(f){return Yt(f,i(lf)),lf.result()},o.measure=function(f){return Yt(f,i(gf)),gf.result()},o.bounds=function(f){return Yt(f,i(Ur)),Ur.result()},o.centroid=function(f){return Yt(f,i(pf)),pf.result()},o.projection=function(f){return arguments.length?(i=f==null?(n=null,Ca):(n=f).stream,o):n},o.context=function(f){return arguments.length?(a=f==null?(t=null,new wf(e)):new Su(t=f),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return t===null&&(a=new wf(e)),o},o.projection(n).digits(e).context(t)}function Ua(n){return{stream:ri(n)}}function ri(n){return function(t){var e=new Fa;for(var r in n)e[r]=n[r];return e.stream=t,e}}function Fa(){}Fa.prototype={constructor:Fa,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function po(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),Yt(e,n.stream(Ur)),t(Ur.result()),r!=null&&n.clipExtent(r),n}function go(n,t,e){return po(n,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([f,c])},e)}function Eu(n,t,e){return go(n,[[0,0],t],e)}function Au(n,t,e){return po(n,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];n.scale(150*a).translate([o,f])},e)}function Du(n,t,e){return po(n,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;n.scale(150*a).translate([o,f])},e)}var vf=16,up=q(30*J);function Mf(n,t){return+t?lp(n,t):sp(n)}function sp(n){return ri({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function lp(n,t){function e(r,i,a,o,f,c,s,u,d,l,h,p,m,g){var y=s-r,v=u-i,w=y*y+v*v;if(w>4*t&&m--){var b=o+l,S=f+h,x=c+p,_=yn(b*b+S*S+x*x),N=kn(x/=_),k=Z(Z(x)-1)<P||Z(a-d)<P?(a+d)/2:lt(S,b),L=n(k,N),A=L[0],U=L[1],$=A-r,C=U-i,M=v*$-y*C;(M*M/w>t||Z((y*$+v*C)/w-.5)>.3||o*l+f*h+c*p<up)&&(e(r,i,a,o,f,c,A,U,k,b/=_,S/=_,x,m,g),g.point(A,U),e(A,U,k,b,S,x,s,u,d,l,h,p,m,g))}}return function(r){var i,a,o,f,c,s,u,d,l,h,p,m,g={point:y,lineStart:v,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(N,k){N=n(N,k),r.point(N[0],N[1])}function v(){d=NaN,g.point=w,r.lineStart()}function w(N,k){var L=Xt([N,k]),A=n(N,k);e(d,l,u,h,p,m,d=A[0],l=A[1],u=N,h=L[0],p=L[1],m=L[2],vf,r),r.point(d,l)}function b(){g.point=y,r.lineEnd()}function S(){v(),g.point=x,g.lineEnd=_}function x(N,k){w(i=N,k),a=d,o=l,f=h,c=p,s=m,g.point=w}function _(){e(d,l,u,h,p,m,a,o,i,f,c,s,vf,r),g.lineEnd=b,b()}return g}}var dp=ri({point:function(n,t){this.stream.point(n*J,t*J)}});function hp(n){return ri({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}function pp(n,t,e,r,i){function a(o,f){return o*=r,f*=i,[t+n*o,e-n*f]}return a.invert=function(o,f){return[(o-t)/n*r,(e-f)/n*i]},a}function Sf(n,t,e,r,i,a){if(!a)return pp(n,t,e,r,i);var o=q(a),f=F(a),c=o*n,s=f*n,u=o/n,d=f/n,l=(f*e-o*t)/n,h=(f*t+o*e)/n;function p(m,g){return m*=r,g*=i,[c*m-s*g+t,e-s*m-c*g]}return p.invert=function(m,g){return[r*(u*m-d*g+l),i*(h-d*m-u*g)]},p}function vt(n){return Nu(function(){return n})()}function Nu(n){var t,e=150,r=480,i=250,a=0,o=0,f=0,c=0,s=0,u,d=0,l=1,h=1,p=null,m=sf,g=null,y,v,w,b=Ca,S=.5,x,_,N,k,L;function A(M){return N(M[0]*J,M[1]*J)}function U(M){return M=N.invert(M[0],M[1]),M&&[M[0]*pn,M[1]*pn]}A.stream=function(M){return k&&L===M?k:k=dp(hp(u)(m(x(b(L=M)))))},A.preclip=function(M){return arguments.length?(m=M,p=void 0,C()):m},A.postclip=function(M){return arguments.length?(b=M,g=y=v=w=null,C()):b},A.clipAngle=function(M){return arguments.length?(m=+M?Z1(p=M*J):(p=null,sf),C()):p*pn},A.clipExtent=function(M){return arguments.length?(b=M==null?(g=y=v=w=null,Ca):gu(g=+M[0][0],y=+M[0][1],v=+M[1][0],w=+M[1][1]),C()):g==null?null:[[g,y],[v,w]]},A.scale=function(M){return arguments.length?(e=+M,$()):e},A.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],$()):[r,i]},A.center=function(M){return arguments.length?(a=M[0]%360*J,o=M[1]%360*J,$()):[a*pn,o*pn]},A.rotate=function(M){return arguments.length?(f=M[0]%360*J,c=M[1]%360*J,s=M.length>2?M[2]%360*J:0,$()):[f*pn,c*pn,s*pn]},A.angle=function(M){return arguments.length?(d=M%360*J,$()):d*pn},A.reflectX=function(M){return arguments.length?(l=M?-1:1,$()):l<0},A.reflectY=function(M){return arguments.length?(h=M?-1:1,$()):h<0},A.precision=function(M){return arguments.length?(x=Mf(_,S=M*M),C()):yn(S)},A.fitExtent=function(M,E){return go(A,M,E)},A.fitSize=function(M,E){return Eu(A,M,E)},A.fitWidth=function(M,E){return Au(A,M,E)},A.fitHeight=function(M,E){return Du(A,M,E)};function $(){var M=Sf(e,0,0,l,h,d).apply(null,t(a,o)),E=Sf(e,r-M[0],i-M[1],l,h,d);return u=lu(f,c,s),_=$a(t,E),N=$a(u,_),x=Mf(_,S),C()}function C(){return k=L=null,A}return function(){return t=n.apply(this,arguments),A.invert=t.invert&&U,$()}}function mo(n){var t=0,e=Y/3,r=Nu(n),i=r(t,e);return i.parallels=function(a){return arguments.length?r(t=a[0]*J,e=a[1]*J):[t*pn,e*pn]},i}function gp(n){var t=q(n);function e(r,i){return[r*t,F(i)/t]}return e.invert=function(r,i){return[r/t,kn(i*t)]},e}function mp(n,t){var e=F(n),r=(e+F(t))/2;if(Z(r)<P)return gp(n);var i=1+e*(2*r-e),a=yn(i)/r;function o(f,c){var s=yn(i-2*r*F(c))/r;return[s*F(f*=r),a-s*q(f)]}return o.invert=function(f,c){var s=a-c,u=lt(f,Z(s))*En(s);return s*r<0&&(u-=Y*En(f)*En(s)),[u/r,kn((i-(f*f+s*s)*r*r)/(2*r))]},o}function Yr(){return mo(mp).scale(155.424).center([0,33.6442])}function ku(){return Yr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function bp(n){var t=n.length;return{point:function(e,r){for(var i=-1;++i<t;)n[i].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function yp(){var n,t,e=ku(),r,i=Yr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Yr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(a.point(h,p),c)||(f.point(h,p),c)}u.invert=function(l){var h=e.scale(),p=e.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:e).invert(l)},u.stream=function(l){return n&&t===l?n:n=bp([e.stream(t=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),o.precision(l),d()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),o.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],m=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(s),a=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+P,m+.12*h+P],[p-.214*h-P,m+.234*h-P]]).stream(s),f=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+P,m+.166*h+P],[p-.115*h-P,m+.234*h-P]]).stream(s),d()},u.fitExtent=function(l,h){return go(u,l,h)},u.fitSize=function(l,h){return Eu(u,l,h)},u.fitWidth=function(l,h){return Au(u,l,h)},u.fitHeight=function(l,h){return Du(u,l,h)};function d(){return n=t=null,u}return u.scale(1070)}function Ru(n){return function(t,e){var r=q(t),i=q(e),a=n(r*i);return a===1/0?[2,0]:[a*i*F(t),a*F(e)]}}function ze(n){return function(t,e){var r=yn(t*t+e*e),i=n(r),a=F(i),o=q(i);return[lt(t*a,r*o),kn(r&&e*a/r)]}}var Lu=Ru(function(n){return yn(2/(1+n))});Lu.invert=ze(function(n){return 2*kn(n/2)});function wp(){return vt(Lu).scale(124.75).clipAngle(180-.001)}var Ou=Ru(function(n){return(n=su(n))&&n/F(n)});Ou.invert=ze(function(n){return n});function vp(){return vt(Ou).scale(79.4188).clipAngle(180-.001)}function ii(n,t){return[n,Nr(ho((nn+t)/2))]}ii.invert=function(n,t){return[n,2*Kt(uu(t))-nn]};function Mp(){return Uu(ii).scale(961/_n)}function Uu(n){var t=vt(n),e=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,f,c,s;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(e(d),u()):e()},t.clipExtent=function(d){return arguments.length?(d==null?o=f=c=s=null:(o=+d[0][0],f=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):o==null?null:[[o,f],[c,s]]};function u(){var d=Y*r(),l=t(Y1(t.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:n===ii?[[Math.max(l[0]-d,o),f],[Math.min(l[0]+d,c),s]]:[[o,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,s)]])}return u()}function ar(n){return ho((nn+n)/2)}function Sp(n,t){var e=q(n),r=n===t?F(n):Nr(e/q(t))/Nr(ar(t)/ar(n)),i=e*Pi(ar(n),r)/r;if(!r)return ii;function a(o,f){i>0?f<-nn+P&&(f=-nn+P):f>nn-P&&(f=nn-P);var c=i/Pi(ar(f),r);return[c*F(r*o),i-c*q(r*o)]}return a.invert=function(o,f){var c=i-f,s=En(r)*yn(o*o+c*c),u=lt(o,Z(c))*En(c);return c*r<0&&(u-=Y*En(o)*En(c)),[u/r,2*Kt(Pi(i/s,1/r))-nn]},a}function xp(){return mo(Sp).scale(109.5).parallels([30,30])}function Br(n,t){return[n,t]}Br.invert=Br;function _p(){return vt(Br).scale(152.63)}function $p(n,t){var e=q(n),r=n===t?F(n):(e-q(t))/(t-n),i=e/r+n;if(Z(r)<P)return Br;function a(o,f){var c=i-f,s=r*o;return[c*F(s),i-c*q(s)]}return a.invert=function(o,f){var c=i-f,s=lt(o,Z(c))*En(c);return c*r<0&&(s-=Y*En(o)*En(c)),[s/r,i-En(r)*yn(o*o+c*c)]},a}function Tp(){return mo($p).scale(131.154).center([0,13.9389])}var Se=1.340264,xe=-.081106,_e=893e-6,$e=.003796,Wr=yn(3)/2,Cp=12;function Fu(n,t){var e=kn(Wr*F(t)),r=e*e,i=r*r*r;return[n*q(e)/(Wr*(Se+3*xe*r+i*(7*_e+9*$e*r))),e*(Se+xe*r+i*(_e+$e*r))]}Fu.invert=function(n,t){for(var e=t,r=e*e,i=r*r*r,a=0,o,f,c;a<Cp&&(f=e*(Se+xe*r+i*(_e+$e*r))-t,c=Se+3*xe*r+i*(7*_e+9*$e*r),e-=o=f/c,r=e*e,i=r*r*r,!(Z(o)<cu));++a);return[Wr*n*(Se+3*xe*r+i*(7*_e+9*$e*r))/q(e),kn(F(e)/Wr)]};function Ep(){return vt(Fu).scale(177.158)}function Pu(n,t){var e=q(t),r=q(n)*e;return[e*F(n)/r,F(t)/r]}Pu.invert=ze(Kt);function Ap(){return vt(Pu).scale(144.049).clipAngle(60)}function Iu(n,t){return[q(t)*F(n),F(t)]}Iu.invert=ze(kn);function Dp(){return vt(Iu).scale(249.5).clipAngle(90+P)}function qu(n,t){var e=q(t),r=1+q(n)*e;return[e*F(n)/r,F(t)/r]}qu.invert=ze(function(n){return 2*Kt(n)});function Np(){return vt(qu).scale(250).clipAngle(142)}function Yu(n,t){return[Nr(ho((nn+t)/2)),-n]}Yu.invert=function(n,t){return[-t,2*Kt(uu(n))-nn]};function kp(){var n=Uu(Yu),t=n.center,e=n.rotate;return n.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function Qn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function ai(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pa=Symbol("implicit");function bo(){var n=new Mr,t=[],e=[],r=Pa;function i(a){let o=n.get(a);if(o===void 0){if(r!==Pa)return r;n.set(a,o=t.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new Mr;for(const o of a)n.has(o)||n.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bo(t,e).unknown(r)},Qn.apply(i,arguments),i}function oi(){var n=bo().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,a,o,f=!1,c=0,s=0,u=.5;delete n.unknown;function d(){var l=t().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,l-c+s*2),f&&(a=Math.floor(a)),p+=(m-p-a*(l-c))*u,o=a*(1-c),f&&(p=Math.round(p),o=Math.round(o));var g=Tc(l).map(function(y){return p+a*y});return e(h?g.reverse():g)}return n.domain=function(l){return arguments.length?(t(l),d()):t()},n.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(l){return arguments.length?(f=!!l,d()):f},n.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},n.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},n.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},n.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},n.copy=function(){return oi(t(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},Qn.apply(d(),arguments)}function Bu(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Bu(t())},n}function Rp(){return Bu(oi.apply(null,arguments).paddingInner(1))}function Lp(n){return function(){return n}}function Ia(n){return+n}var xf=[0,1];function Dn(n){return n}function qa(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Lp(isNaN(t)?NaN:.5)}function Op(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Up(n,t,e){var r=n[0],i=n[1],a=t[0],o=t[1];return i<r?(r=qa(i,r),a=e(o,a)):(r=qa(r,i),a=e(a,o)),function(f){return a(r(f))}}function Fp(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=qa(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(f){var c=ro(n,f,1,r)-1;return a[c](i[c](f))}}function He(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function fi(){var n=xf,t=xf,e=We,r,i,a,o=Dn,f,c,s;function u(){var l=Math.min(n.length,t.length);return o!==Dn&&(o=Op(n[0],n[l-1])),f=l>2?Fp:Up,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?a:(c||(c=f(n.map(r),t,e)))(r(o(l)))}return d.invert=function(l){return o(i((s||(s=f(t,n.map(r),ln)))(l)))},d.domain=function(l){return arguments.length?(n=Array.from(l,Ia),u()):n.slice()},d.range=function(l){return arguments.length?(t=Array.from(l),u()):t.slice()},d.rangeRound=function(l){return t=Array.from(l),e=oo,u()},d.clamp=function(l){return arguments.length?(o=l?!0:Dn,u()):o!==Dn},d.interpolate=function(l){return arguments.length?(e=l,u()):e},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,u()}}function Wu(){return fi()(Dn,Dn)}function Pp(n,t,e,r){var i=ua(n,t,e),a;switch(r=Cc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=Z0(i,o))&&(r.precision=a),v0(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=j0(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=G0(i))&&(r.precision=a-(r.type==="%")*2);break}}return Be(r)}function Ve(n){var t=n.domain;return n.ticks=function(e){var r=t();return _r(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return Pp(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,a=r.length-1,o=r[i],f=r[a],c,s,u=10;for(f<o&&(s=o,o=f,f=s,s=i,i=a,a=s);u-- >0;){if(s=ca(o,f,e),s===c)return r[i]=o,r[a]=f,t(r);if(s>0)o=Math.floor(o/s)*s,f=Math.ceil(f/s)*s;else if(s<0)o=Math.ceil(o*s)/s,f=Math.floor(f*s)/s;else break;c=s}return n},n}function yo(){var n=Wu();return n.copy=function(){return He(n,yo())},Qn.apply(n,arguments),Ve(n)}function zu(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,Ia),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return zu(n).unknown(t)},n=arguments.length?Array.from(n,Ia):[0,1],Ve(e)}function Hu(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],a=n[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),n[e]=t.floor(i),n[r]=t.ceil(a),n}function _f(n){return Math.log(n)}function $f(n){return Math.exp(n)}function Ip(n){return-Math.log(-n)}function qp(n){return-Math.exp(-n)}function Yp(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Bp(n){return n===10?Yp:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Wp(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function Tf(n){return(t,e)=>-n(-t,e)}function Vu(n){const t=n(_f,$f),e=t.domain;let r=10,i,a;function o(){return i=Wp(r),a=Bp(r),e()[0]<0?(i=Tf(i),a=Tf(a),n(Ip,qp)):n(_f,$f),t}return t.base=function(f){return arguments.length?(r=+f,o()):r},t.domain=function(f){return arguments.length?(e(f),o()):e()},t.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/a(-l):p*a(l),!(m<s)){if(m>u)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/a(-l):p*a(l),!(m<s)){if(m>u)break;y.push(m)}y.length*2<g&&(y=_r(s,u,g))}else y=_r(l,h,Math.min(h-l,g)).map(a);return d?y.reverse():y},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Cc(c)).precision==null&&(c.trim=!0),c=Be(c)),f===1/0)return c;const s=Math.max(1,r*f/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},t.nice=()=>e(Hu(e(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function Xu(){const n=Vu(fi()).domain([1,10]);return n.copy=()=>He(n,Xu()).base(n.base()),Qn.apply(n,arguments),n}function Cf(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function Ef(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Gu(n){var t=1,e=n(Cf(t),Ef(t));return e.constant=function(r){return arguments.length?n(Cf(t=+r),Ef(t)):t},Ve(e)}function Zu(){var n=Gu(fi());return n.copy=function(){return He(n,Zu()).constant(n.constant())},Qn.apply(n,arguments)}function Af(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function zp(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Hp(n){return n<0?-n*n:n*n}function ju(n){var t=n(Dn,Dn),e=1;function r(){return e===1?n(Dn,Dn):e===.5?n(zp,Hp):n(Af(e),Af(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},Ve(t)}function Qu(){var n=ju(fi());return n.copy=function(){return He(n,Qu()).exponent(n.exponent())},Qn.apply(n,arguments),n}function Ku(){var n=[],t=[],e=[],r;function i(){var o=0,f=Math.max(1,t.length);for(e=new Array(f-1);++o<f;)e[o-1]=Y0(n,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:t[ro(e,o)]}return a.invertExtent=function(o){var f=t.indexOf(o);return f<0?[NaN,NaN]:[f>0?e[f-1]:n[0],f<e.length?e[f]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let f of o)f!=null&&!isNaN(f=+f)&&n.push(f);return n.sort(Un),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return Ku().domain(n).range(t).unknown(r)},Qn.apply(a,arguments)}function Ju(){var n=[.5],t=[0,1],e,r=1;function i(a){return a!=null&&a<=a?t[ro(n,a,0,r)]:e}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,t.length-1),i):n.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(n.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[n[o-1],n[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return Ju().domain(n).range(t).unknown(e)},Qn.apply(i,arguments)}const Wi=new Date,zi=new Date;function rn(n,t,e,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return c;let s;do c.push(s=new Date(+a)),t(a,f),n(a);while(s<a&&a<o);return c},i.filter=a=>rn(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;t(o,-1),!a(o););else for(;--f>=0;)for(;t(o,1),!a(o););}),e&&(i.count=(a,o)=>(Wi.setTime(+a),zi.setTime(+o),n(Wi),n(zi),Math.floor(e(Wi,zi))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const zr=rn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);zr.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?rn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):zr);zr.range;const ot=1e3,Nn=ot*60,ft=Nn*60,dt=ft*24,wo=dt*7,Df=dt*30,Hi=dt*365,ct=rn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*ot)},(n,t)=>(t-n)/ot,n=>n.getUTCSeconds());ct.range;const ci=rn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ot)},(n,t)=>{n.setTime(+n+t*Nn)},(n,t)=>(t-n)/Nn,n=>n.getMinutes());ci.range;const ui=rn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Nn)},(n,t)=>(t-n)/Nn,n=>n.getUTCMinutes());ui.range;const si=rn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ot-n.getMinutes()*Nn)},(n,t)=>{n.setTime(+n+t*ft)},(n,t)=>(t-n)/ft,n=>n.getHours());si.range;const li=rn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*ft)},(n,t)=>(t-n)/ft,n=>n.getUTCHours());li.range;const Jt=rn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Nn)/dt,n=>n.getDate()-1);Jt.range;const Xe=rn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/dt,n=>n.getUTCDate()-1);Xe.range;const ns=rn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/dt,n=>Math.floor(n/dt));ns.range;function Rt(n){return rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/wo)}const Zt=Rt(0),Le=Rt(1),ts=Rt(2),es=Rt(3),Nt=Rt(4),rs=Rt(5),is=Rt(6);Zt.range;Le.range;ts.range;es.range;Nt.range;rs.range;is.range;function Lt(n){return rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/wo)}const jt=Lt(0),Oe=Lt(1),as=Lt(2),os=Lt(3),kt=Lt(4),fs=Lt(5),cs=Lt(6);jt.range;Oe.range;as.range;os.range;kt.range;fs.range;cs.range;const di=rn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());di.range;const hi=rn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());hi.range;const Xn=rn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Xn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Xn.range;const Gn=rn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Gn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Gn.range;function us(n,t,e,r,i,a){const o=[[ct,1,ot],[ct,5,5*ot],[ct,15,15*ot],[ct,30,30*ot],[a,1,Nn],[a,5,5*Nn],[a,15,15*Nn],[a,30,30*Nn],[i,1,ft],[i,3,3*ft],[i,6,6*ft],[i,12,12*ft],[r,1,dt],[r,2,2*dt],[e,1,wo],[t,1,Df],[t,3,3*Df],[n,1,Hi]];function f(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=eo(([,,g])=>g).right(o,l);if(h===o.length)return n.every(ua(s/Hi,u/Hi,d));if(h===0)return zr.every(Math.max(ua(s,u,d),1));const[p,m]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(m)}return[f,c]}const[Vp,Xp]=us(Gn,hi,jt,ns,li,ui),[Gp,Zp]=us(Xn,di,Zt,Jt,si,ci);function Vi(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Xi(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ue(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function jp(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,a=n.days,o=n.shortDays,f=n.months,c=n.shortMonths,s=se(i),u=le(i),d=se(a),l=le(a),h=se(o),p=le(o),m=se(f),g=le(f),y=se(c),v=le(c),w={a:O,A:W,b:z,B:G,c:null,d:Uf,e:Uf,f:wg,g:Ag,G:Ng,H:mg,I:bg,j:yg,L:ss,m:vg,M:Mg,p:j,q:mn,Q:If,s:qf,S:Sg,u:xg,U:_g,V:$g,w:Tg,W:Cg,x:null,X:null,y:Eg,Y:Dg,Z:kg,"%":Pf},b={a:wn,A:mt,b:qn,B:Ai,c:null,d:Ff,e:Ff,f:Ug,g:Vg,G:Gg,H:Rg,I:Lg,j:Og,L:ds,m:Fg,M:Pg,p:Di,q:u0,Q:If,s:qf,S:Ig,u:qg,U:Yg,V:Bg,w:Wg,W:zg,x:null,X:null,y:Hg,Y:Xg,Z:Zg,"%":Pf},S={a:L,A,b:U,B:$,c:C,d:Lf,e:Lf,f:dg,g:Rf,G:kf,H:Of,I:Of,j:cg,L:lg,m:fg,M:ug,p:k,q:og,Q:pg,s:gg,S:sg,u:tg,U:eg,V:rg,w:ng,W:ig,x:M,X:E,y:Rf,Y:kf,Z:ag,"%":hg};w.x=x(e,w),w.X=x(r,w),w.c=x(t,w),b.x=x(e,b),b.X=x(r,b),b.c=x(t,b);function x(R,B){return function(V){var T=[],bn=-1,K=0,vn=R.length,Mn,xt,Po;for(V instanceof Date||(V=new Date(+V));++bn<vn;)R.charCodeAt(bn)===37&&(T.push(R.slice(K,bn)),(xt=Nf[Mn=R.charAt(++bn)])!=null?Mn=R.charAt(++bn):xt=Mn==="e"?" ":"0",(Po=B[Mn])&&(Mn=Po(V,xt)),T.push(Mn),K=bn+1);return T.push(R.slice(K,bn)),T.join("")}}function _(R,B){return function(V){var T=ue(1900,void 0,1),bn=N(T,R,V+="",0),K,vn;if(bn!=V.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(B&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(K=Xi(ue(T.y,0,1)),vn=K.getUTCDay(),K=vn>4||vn===0?Oe.ceil(K):Oe(K),K=Xe.offset(K,(T.V-1)*7),T.y=K.getUTCFullYear(),T.m=K.getUTCMonth(),T.d=K.getUTCDate()+(T.w+6)%7):(K=Vi(ue(T.y,0,1)),vn=K.getDay(),K=vn>4||vn===0?Le.ceil(K):Le(K),K=Jt.offset(K,(T.V-1)*7),T.y=K.getFullYear(),T.m=K.getMonth(),T.d=K.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),vn="Z"in T?Xi(ue(T.y,0,1)).getUTCDay():Vi(ue(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(vn+5)%7:T.w+T.U*7-(vn+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,Xi(T)):Vi(T)}}function N(R,B,V,T){for(var bn=0,K=B.length,vn=V.length,Mn,xt;bn<K;){if(T>=vn)return-1;if(Mn=B.charCodeAt(bn++),Mn===37){if(Mn=B.charAt(bn++),xt=S[Mn in Nf?B.charAt(bn++):Mn],!xt||(T=xt(R,V,T))<0)return-1}else if(Mn!=V.charCodeAt(T++))return-1}return T}function k(R,B,V){var T=s.exec(B.slice(V));return T?(R.p=u.get(T[0].toLowerCase()),V+T[0].length):-1}function L(R,B,V){var T=h.exec(B.slice(V));return T?(R.w=p.get(T[0].toLowerCase()),V+T[0].length):-1}function A(R,B,V){var T=d.exec(B.slice(V));return T?(R.w=l.get(T[0].toLowerCase()),V+T[0].length):-1}function U(R,B,V){var T=y.exec(B.slice(V));return T?(R.m=v.get(T[0].toLowerCase()),V+T[0].length):-1}function $(R,B,V){var T=m.exec(B.slice(V));return T?(R.m=g.get(T[0].toLowerCase()),V+T[0].length):-1}function C(R,B,V){return N(R,t,B,V)}function M(R,B,V){return N(R,e,B,V)}function E(R,B,V){return N(R,r,B,V)}function O(R){return o[R.getDay()]}function W(R){return a[R.getDay()]}function z(R){return c[R.getMonth()]}function G(R){return f[R.getMonth()]}function j(R){return i[+(R.getHours()>=12)]}function mn(R){return 1+~~(R.getMonth()/3)}function wn(R){return o[R.getUTCDay()]}function mt(R){return a[R.getUTCDay()]}function qn(R){return c[R.getUTCMonth()]}function Ai(R){return f[R.getUTCMonth()]}function Di(R){return i[+(R.getUTCHours()>=12)]}function u0(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var B=x(R+="",w);return B.toString=function(){return R},B},parse:function(R){var B=_(R+="",!1);return B.toString=function(){return R},B},utcFormat:function(R){var B=x(R+="",b);return B.toString=function(){return R},B},utcParse:function(R){var B=_(R+="",!0);return B.toString=function(){return R},B}}}var Nf={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,Qp=/^%/,Kp=/[\\^$*+?|[\]().{}]/g;function X(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(t)+i:i)}function Jp(n){return n.replace(Kp,"\\$&")}function se(n){return new RegExp("^(?:"+n.map(Jp).join("|")+")","i")}function le(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ng(n,t,e){var r=fn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function tg(n,t,e){var r=fn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function eg(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function rg(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function ig(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function kf(n,t,e){var r=fn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Rf(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ag(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function og(n,t,e){var r=fn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function fg(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Lf(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function cg(n,t,e){var r=fn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Of(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ug(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function sg(n,t,e){var r=fn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function lg(n,t,e){var r=fn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function dg(n,t,e){var r=fn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function hg(n,t,e){var r=Qp.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function pg(n,t,e){var r=fn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function gg(n,t,e){var r=fn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function Uf(n,t){return X(n.getDate(),t,2)}function mg(n,t){return X(n.getHours(),t,2)}function bg(n,t){return X(n.getHours()%12||12,t,2)}function yg(n,t){return X(1+Jt.count(Xn(n),n),t,3)}function ss(n,t){return X(n.getMilliseconds(),t,3)}function wg(n,t){return ss(n,t)+"000"}function vg(n,t){return X(n.getMonth()+1,t,2)}function Mg(n,t){return X(n.getMinutes(),t,2)}function Sg(n,t){return X(n.getSeconds(),t,2)}function xg(n){var t=n.getDay();return t===0?7:t}function _g(n,t){return X(Zt.count(Xn(n)-1,n),t,2)}function ls(n){var t=n.getDay();return t>=4||t===0?Nt(n):Nt.ceil(n)}function $g(n,t){return n=ls(n),X(Nt.count(Xn(n),n)+(Xn(n).getDay()===4),t,2)}function Tg(n){return n.getDay()}function Cg(n,t){return X(Le.count(Xn(n)-1,n),t,2)}function Eg(n,t){return X(n.getFullYear()%100,t,2)}function Ag(n,t){return n=ls(n),X(n.getFullYear()%100,t,2)}function Dg(n,t){return X(n.getFullYear()%1e4,t,4)}function Ng(n,t){var e=n.getDay();return n=e>=4||e===0?Nt(n):Nt.ceil(n),X(n.getFullYear()%1e4,t,4)}function kg(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+X(t/60|0,"0",2)+X(t%60,"0",2)}function Ff(n,t){return X(n.getUTCDate(),t,2)}function Rg(n,t){return X(n.getUTCHours(),t,2)}function Lg(n,t){return X(n.getUTCHours()%12||12,t,2)}function Og(n,t){return X(1+Xe.count(Gn(n),n),t,3)}function ds(n,t){return X(n.getUTCMilliseconds(),t,3)}function Ug(n,t){return ds(n,t)+"000"}function Fg(n,t){return X(n.getUTCMonth()+1,t,2)}function Pg(n,t){return X(n.getUTCMinutes(),t,2)}function Ig(n,t){return X(n.getUTCSeconds(),t,2)}function qg(n){var t=n.getUTCDay();return t===0?7:t}function Yg(n,t){return X(jt.count(Gn(n)-1,n),t,2)}function hs(n){var t=n.getUTCDay();return t>=4||t===0?kt(n):kt.ceil(n)}function Bg(n,t){return n=hs(n),X(kt.count(Gn(n),n)+(Gn(n).getUTCDay()===4),t,2)}function Wg(n){return n.getUTCDay()}function zg(n,t){return X(Oe.count(Gn(n)-1,n),t,2)}function Hg(n,t){return X(n.getUTCFullYear()%100,t,2)}function Vg(n,t){return n=hs(n),X(n.getUTCFullYear()%100,t,2)}function Xg(n,t){return X(n.getUTCFullYear()%1e4,t,4)}function Gg(n,t){var e=n.getUTCDay();return n=e>=4||e===0?kt(n):kt.ceil(n),X(n.getUTCFullYear()%1e4,t,4)}function Zg(){return"+0000"}function Pf(){return"%"}function If(n){return+n}function qf(n){return Math.floor(+n/1e3)}var It,ps,pi;jg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jg(n){return It=jp(n),ps=It.format,It.parse,pi=It.utcFormat,It.utcParse,It}function Qg(n){return new Date(n)}function Kg(n){return n instanceof Date?+n:+new Date(+n)}function vo(n,t,e,r,i,a,o,f,c,s){var u=Wu(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),m=s("%I:%M"),g=s("%I %p"),y=s("%a %d"),v=s("%b %d"),w=s("%B"),b=s("%Y");function S(x){return(c(x)<x?h:f(x)<x?p:o(x)<x?m:a(x)<x?g:r(x)<x?i(x)<x?y:v:e(x)<x?w:b)(x)}return u.invert=function(x){return new Date(d(x))},u.domain=function(x){return arguments.length?l(Array.from(x,Kg)):l().map(Qg)},u.ticks=function(x){var _=l();return n(_[0],_[_.length-1],x??10)},u.tickFormat=function(x,_){return _==null?S:s(_)},u.nice=function(x){var _=l();return(!x||typeof x.range!="function")&&(x=t(_[0],_[_.length-1],x??10)),x?l(Hu(_,x)):u},u.copy=function(){return He(u,vo(n,t,e,r,i,a,o,f,c,s))},u}function Jg(){return Qn.apply(vo(Gp,Zp,Xn,di,Zt,Jt,si,ci,ct,ps).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nm(){return Qn.apply(vo(Vp,Xp,Gn,hi,jt,Xe,li,ui,ct,pi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gi(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function mi(){var n=0,t=.5,e=1,r=1,i,a,o,f,c,s=Dn,u,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+u(m))-a)*(r*m<r*a?f:c),s(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([n,t,e]=m,i=u(n=+n),a=u(t=+t),o=u(e=+e),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h):[n,t,e]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(s=m,h):s};function p(m){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,s=co(m,[y,v,w]),h):[s(0),s(.5),s(1)]}}return h.range=p(We),h.rangeRound=p(oo),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return u=m,i=m(n),a=m(t),o=m(e),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function gs(){var n=Ve(mi()(Dn));return n.copy=function(){return gi(n,gs())},ai.apply(n,arguments)}function ms(){var n=Vu(mi()).domain([.1,1,10]);return n.copy=function(){return gi(n,ms()).base(n.base())},ai.apply(n,arguments)}function bs(){var n=Gu(mi());return n.copy=function(){return gi(n,bs()).constant(n.constant())},ai.apply(n,arguments)}function ys(){var n=ju(mi());return n.copy=function(){return gi(n,ys()).exponent(n.exponent())},ai.apply(n,arguments)}function I(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(r*6,++r*6);return e}const tm=I("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),em=I("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),rm=I("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),im=I("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),am=I("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),om=I("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),fm=I("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),cm=I("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),um=I("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),sm=I("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Q=n=>nh(n[n.length-1]);var ws=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(I);const vs=Q(ws);var Ms=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(I);const Ss=Q(Ms);var xs=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(I);const _s=Q(xs);var $s=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(I);const Ts=Q($s);var Ya=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(I);const Hr=Q(Ya);var Cs=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(I);const Es=Q(Cs);var Ba=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(I);const Vr=Q(Ba);var As=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(I);const Ds=Q(As);var Ns=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(I);const ks=Q(Ns);var Rs=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(I);const Ls=Q(Rs);var Os=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(I);const Us=Q(Os);var Fs=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(I);const Ps=Q(Fs);var Is=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(I);const qs=Q(Is);var Ys=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(I);const Bs=Q(Ys);var Ws=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(I);const zs=Q(Ws);var Hs=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(I);const Vs=Q(Hs);var Xs=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(I);const Gs=Q(Xs);var Zs=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(I);const js=Q(Zs);var Qs=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(I);const Ks=Q(Qs);var Js=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(I);const nl=Q(Js);var tl=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(I);const el=Q(tl);var rl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(I);const il=Q(rl);var al=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(I);const ol=Q(al);var fl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(I);const cl=Q(fl);var ul=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(I);const sl=Q(ul);var ll=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(I);const dl=Q(ll);var hl=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(I);const pl=Q(hl);function gl(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const ml=fo(Vn(300,.5,0),Vn(-240,.5,1));var bl=fo(Vn(-100,.75,.35),Vn(80,1.5,.8)),yl=fo(Vn(260,.75,.35),Vn(80,1.5,.8)),or=Vn();function wl(n){(n<0||n>1)&&(n-=Math.floor(n));var t=Math.abs(n-.5);return or.h=360*n-100,or.s=1.5-1.5*t,or.l=.8-.9*t,or+""}var fr=Tt(),lm=Math.PI/3,dm=Math.PI*2/3;function vl(n){var t;return n=(.5-n)*Math.PI,fr.r=255*(t=Math.sin(n))*t,fr.g=255*(t=Math.sin(n+lm))*t,fr.b=255*(t=Math.sin(n+dm))*t,fr+""}function Ml(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function bi(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}const Sl=bi(I("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var xl=bi(I("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_l=bi(I("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$l=bi(I("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Tl=Math.cos,Mo=Math.min,Xr=Math.sin,an=Math.sqrt,Gr=Math.PI,yi=2*Gr,hm=an(3),Cl={draw(n,t){const e=an(t+Mo(t/28,.75))*.59436,r=e/2,i=r*hm;n.moveTo(0,e),n.lineTo(0,-e),n.moveTo(-i,-r),n.lineTo(i,r),n.moveTo(-i,r),n.lineTo(i,-r)}},So={draw(n,t){const e=an(t/Gr);n.moveTo(e,0),n.arc(0,0,e,0,yi)}},El={draw(n,t){const e=an(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},Al=an(1/3),pm=Al*2,Dl={draw(n,t){const e=an(t/pm),r=e*Al;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},Nl={draw(n,t){const e=an(t)*.62625;n.moveTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.lineTo(-e,0),n.closePath()}},kl={draw(n,t){const e=an(t-Mo(t/7,2))*.87559;n.moveTo(-e,0),n.lineTo(e,0),n.moveTo(0,e),n.lineTo(0,-e)}},Rl={draw(n,t){const e=an(t),r=-e/2;n.rect(r,r,e,e)}},Ll={draw(n,t){const e=an(t)*.4431;n.moveTo(e,e),n.lineTo(e,-e),n.lineTo(-e,-e),n.lineTo(-e,e),n.closePath()}},gm=.8908130915292852,Ol=Xr(Gr/10)/Xr(7*Gr/10),mm=Xr(yi/10)*Ol,bm=-Tl(yi/10)*Ol,Ul={draw(n,t){const e=an(t*gm),r=mm*e,i=bm*e;n.moveTo(0,-e),n.lineTo(r,i);for(let a=1;a<5;++a){const o=yi*a/5,f=Tl(o),c=Xr(o);n.lineTo(c*e,-f*e),n.lineTo(f*r-c*i,c*r+f*i)}n.closePath()}},Gi=an(3),Fl={draw(n,t){const e=-an(t/(Gi*3));n.moveTo(0,e*2),n.lineTo(-Gi*e,-e),n.lineTo(Gi*e,-e),n.closePath()}},ym=an(3),Pl={draw(n,t){const e=an(t)*.6824,r=e/2,i=e*ym/2;n.moveTo(0,-e),n.lineTo(i,r),n.lineTo(-i,r),n.closePath()}},$n=-.5,Tn=an(3)/2,Wa=1/an(12),wm=(Wa/2+1)*3,Il={draw(n,t){const e=an(t/wm),r=e/2,i=e*Wa,a=r,o=e*Wa+e,f=-a,c=o;n.moveTo(r,i),n.lineTo(a,o),n.lineTo(f,c),n.lineTo($n*r-Tn*i,Tn*r+$n*i),n.lineTo($n*a-Tn*o,Tn*a+$n*o),n.lineTo($n*f-Tn*c,Tn*f+$n*c),n.lineTo($n*r+Tn*i,$n*i-Tn*r),n.lineTo($n*a+Tn*o,$n*o-Tn*a),n.lineTo($n*f+Tn*c,$n*c-Tn*f),n.closePath()}},ql={draw(n,t){const e=an(t-Mo(t/6,1.7))*.6189;n.moveTo(-e,-e),n.lineTo(e,e),n.moveTo(-e,e),n.lineTo(e,-e)}},vm=[So,El,Dl,Rl,Ul,Fl,Il],Mm=[So,kl,ql,Pl,Cl,Ll,Nl];function Me(n,t,e){this.k=n,this.x=t,this.y=e}Me.prototype={constructor:Me,scale:function(n){return n===1?this:new Me(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Me(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Me.prototype;function Sm(n,t){if(n instanceof Date||(n=new Date(+n)),isNaN(n))return typeof t=="function"?t(n):t;const e=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),a=n.getUTCMilliseconds();return`${xm(n.getUTCFullYear())}-${it(n.getUTCMonth()+1,2)}-${it(n.getUTCDate(),2)}${e||r||i||a?`T${it(e,2)}:${it(r,2)}${i||a?`:${it(i,2)}${a?`.${it(a,3)}`:""}`:""}Z`:""}`}function xm(n){return n<0?`-${it(-n,6)}`:n>9999?`+${it(n,6)}`:it(n,4)}function it(n,t){return`${n}`.padStart(t,"0")}const _m=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Yl(n,t){return _m.test(n+="")?new Date(n):typeof t=="function"?t(n):t}const $m=new Map([["second",ct],["minute",ci],["hour",si],["day",Jt],["week",Zt],["month",di],["year",Xn],["monday",Le],["tuesday",ts],["wednesday",es],["thursday",Nt],["friday",rs],["saturday",is],["sunday",Zt]]),Tm=new Map([["second",ct],["minute",ui],["hour",li],["day",Xe],["week",jt],["month",hi],["year",Gn],["monday",Oe],["tuesday",as],["wednesday",os],["thursday",kt],["friday",fs],["saturday",cs],["sunday",jt]]);function Cm(n){const t=$m.get(`${n}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${n}`);return t}function Em(n){const t=Tm.get(`${n}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${n}`);return t}const Bl=Object.getPrototypeOf(Uint8Array),Am=Object.prototype.toString;function wt(n,t,e){const r=typeof t;return r==="string"?gn(n,Dm(t),e):r==="function"?gn(n,t,e):r==="number"||t instanceof Date||r==="boolean"?gn(n,ne(t),e):t&&typeof t.transform=="function"?Pn(t.transform(n),e):Pn(t,e)}const Dm=n=>t=>t[n],Nm=(n,t)=>t,Mt={transform:n=>n},km=()=>!0,On=n=>n==null?n:`${n}`,en=n=>n==null?n:+n,Wl=n=>n?n[0]:void 0,Rm=n=>n?n[1]:void 0,ne=n=>()=>n;function Lm(n){const t=+`${n}`.slice(1)/100;return(e,r)=>$r(e,t,r)}function Zr(n,t){return n===void 0&&(n=t),n===null?[void 0,"none"]:Mi(n)?[void 0,n]:[n,void 0]}function Wn(n,t){return n===void 0&&(n=t),n===null||typeof n=="number"?[void 0,n]:[n,void 0]}function zl(n,t,e){if(n!=null)return pt(n,t,e)}function pt(n,t,e){const r=`${n}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${t}: ${n}`);return r}function Pn(n,t){return n==null?n:t===void 0?n instanceof Array||n instanceof Bl?n:Array.from(n):n instanceof t?n:t.from(n)}function gn(n,t,e=Array){return n instanceof e?n.map(t):e.from(n,t)}function za(n,t=Array){return n instanceof t?n.slice():t.from(n)}function Om(n){return n instanceof Bl}function Ge(n){return(n==null?void 0:n.toString)===Am}function Ha(n){return Ge(n)&&(n.type!==void 0||n.domain!==void 0)}function xo(n){return Ge(n)&&typeof n.transform!="function"}function Ue(n){return xo(n)&&n.value===void 0&&n.channel===void 0}function Hl(n,t){return n===void 0&&t===void 0?[Wl,Rm]:[n,t]}function wi(n){const t=n.length,e=new Uint32Array(t);for(let r=0;r<t;++r)e[r]=r;return e}function Um(n,t){return gn(t,e=>n[e])}function vi(n,t){return typeof n=="string"?n:n&&n.label!==void 0?n.label:t}function te(n,t){if(n!=null){if(typeof n=="number"){const e=n;return{floor:r=>e*Math.floor(r/e),offset:r=>r+e,range:(r,i)=>Tc(Math.ceil(r/e),i/e).map(a=>e*a)}}if(typeof n=="string")return(t==="time"?Cm:Em)(n);if(typeof n.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof n.offset!="function")throw new Error("invalid interval; missing offset method");return n}}function _o(n){return n===void 0||xo(n)?n:{value:n}}function Fm(n){return n==null?null:{transform:t=>wt(t,n,Float64Array),label:vi(n)}}function Ot(n){return n&&typeof n[Symbol.iterator]=="function"}function Pm(n){for(const t of n)if(t!=null)return typeof t!="object"||t instanceof Date}function Yf(n){for(const t of n){if(t==null)continue;const e=typeof t;return e==="string"||e==="boolean"}}function ht(n){for(const t of n)if(t!=null)return t instanceof Date}function Im(n){for(const t of n)if(t!=null)return typeof t=="string"&&isNaN(t)&&Yl(t)}function qm(n){for(const t of n)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Ym(n){for(const t of n)if(t!=null)return typeof t=="number"}function Bf(n,t){let e;for(const r of n)if(r!=null){if(!t(r))return!1;e=!0}return e}function Mi(n){return typeof n!="string"?!1:(n=n.toLowerCase().trim(),n==="none"||n==="currentcolor"||n.startsWith("url(")&&n.endsWith(")")||n.startsWith("var(")&&n.endsWith(")")||Ae(n)!==null)}function Sn(n){return n==null||Fe(n)}function Fe(n){return/^\s*none\s*$/i.test(n)}function Bm(n){return/^\s*round\s*$/i.test(n)}function Vl(n="middle"){return pt(n,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Pe(n){if(n==null)return;const t=n[0],e=n[n.length-1];return Qt(t,e)}function Wm(n={},...t){let e=n;for(const r of t)for(const i in r)if(e[i]===void 0){const a=r[i];e===n?e={...e,[i]:a}:e[i]=a}return e}function zm(n){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(n,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,e]}))}function Wf(n){return Ot(n)?zm(n):n}const zn=Symbol("position"),Zn=Symbol("color"),Si=Symbol("radius"),xi=Symbol("length"),_i=Symbol("opacity"),$i=Symbol("symbol"),tn=new Map([["x",zn],["y",zn],["fx",zn],["fy",zn],["r",Si],["color",Zn],["opacity",_i],["symbol",$i],["length",xi]]),Hm=Math.sqrt(3),Vm=2/Hm,Xm={draw(n,t){const e=Math.sqrt(t/Math.PI),r=e*Vm,i=r/2;n.moveTo(0,r),n.lineTo(e,i),n.lineTo(e,-i),n.lineTo(0,-r),n.lineTo(-e,-i),n.lineTo(-e,i),n.closePath()}},Xl=new Map([["asterisk",Cl],["circle",So],["cross",El],["diamond",Dl],["diamond2",Nl],["hexagon",Xm],["plus",kl],["square",Rl],["square2",Ll],["star",Ul],["times",ql],["triangle",Fl],["triangle2",Pl],["wye",Il]]);function Gl(n){return n&&typeof n.draw=="function"}function Gm(n){return Gl(n)?!0:typeof n!="string"?!1:Xl.has(n.toLowerCase())}function $o(n){if(n==null||Gl(n))return n;const t=Xl.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${n}`)}function Ie(n){return n!=null&&!Number.isNaN(n)}function Va(n,t){return+Ie(t)-+Ie(n)||Un(n,t)}function Zm(n,t){return+Ie(t)-+Ie(n)||Qt(n,t)}function Zl(n){return n!=null&&`${n}`!=""}function jl(n){return isFinite(n)?n:NaN}function To(n){return n>0&&isFinite(n)?n:NaN}function Ql(n){return n<0&&isFinite(n)?n:NaN}function jm(n={},t){let{filter:e,sort:r,reverse:i,transform:a,initializer:o,...f}=n;if(a===void 0&&(e!=null&&(a=Jl(e)),r!=null&&!Ue(r)&&(a=Zi(a,td(r))),i&&(a=Zi(a,nd))),t!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...f,...(r===null||Ue(r))&&{sort:r},transform:Zi(a,t)}}function Kl(n={},t){let{filter:e,sort:r,reverse:i,initializer:a,...o}=n;return a===void 0&&(e!=null&&(a=Jl(e)),r!=null&&!Ue(r)&&(a=ji(a,td(r))),i&&(a=ji(a,nd))),{...o,...(r===null||Ue(r))&&{sort:r},initializer:ji(a,t)}}function Zi(n,t){return n==null?t===null?void 0:t:t==null?n===null?void 0:n:function(e,r){return{data:e,facets:r}=n.call(this,e,r),t.call(this,Pn(e),r)}}function ji(n,t){return n==null?t===null?void 0:t:t==null?n===null?void 0:n:function(e,r,i,...a){let o,f,c,s,u,d;return{data:f=e,facets:c=r,channels:o}=n.call(this,e,r,i,...a),{data:u=f,facets:d=c,channels:s}=t.call(this,f,c,{...i,...o},...a),{data:u,facets:d,channels:{...o,...s}}}}function Jl(n){return(t,e)=>{const r=wt(t,n);return{data:t,facets:e.map(i=>i.filter(a=>r[a]))}}}function nd(n,t){return{data:n,facets:t.map(e=>e.slice().reverse())}}function td(n){return(typeof n=="function"&&n.length!==1?Qm:Km)(n)}function Qm(n){return(t,e)=>{const r=(i,a)=>n(t[i],t[a]);return{data:t,facets:e.map(i=>i.slice().sort(r))}}}function Km(n){let t,e;if({channel:t,value:n,order:e=Va}={..._o(n)},typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Va;break;case"descending":e=Zm;break;default:throw new Error(`invalid order: ${e}`)}return(r,i,a)=>{let o;if(t===void 0)o=wt(r,n);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(o=a[t],!o)return{};o=o.value}const f=(c,s)=>e(o[c],o[s]);return{data:r,facets:i.map(c=>c.slice().sort(f))}}}function Jm(n,t){if(typeof(n==null?void 0:n.reduce)=="function"&&Ge(n))return n;if(typeof n=="function")return nb(n);if(/^p\d{2}$/i.test(n))return rt(Lm(n));switch(`${n}`.toLowerCase()){case"first":return tb;case"last":return eb;case"count":return Hf;case"distinct":return rb;case"sum":return t==null?Hf:ib;case"proportion":return Vf(t,"data");case"proportion-facet":return Vf(t,"facet");case"deviation":return rt(k0);case"min":return rt(Ce);case"min-index":return rt(q0);case"max":return rt(ut);case"max-index":return rt(I0);case"mean":return zf(B0);case"median":return zf(sa);case"variance":return rt(Dc);case"mode":return rt(z0);case"x":return ab;case"x1":return fb;case"x2":return cb;case"y":return ob;case"y1":return ub;case"y2":return sb}throw new Error(`invalid reduce: ${n}`)}function nb(n){return{reduce(t,e,r){return n(Um(e,t),r)}}}function rt(n){return{reduce(t,e){return n(t,r=>e[r])}}}function zf(n){return{reduce(t,e){const r=n(t,i=>e[i]);return ht(e)?new Date(r):r}}}const tb={reduce(n,t){return t[n[0]]}},eb={reduce(n,t){return t[n[n.length-1]]}},Hf={label:"Frequency",reduce(n){return n.length}},rb={label:"Distinct",reduce:(n,t)=>{const e=new Nc;for(const r of n)e.add(t[r]);return e.size}},ib=rt(to);function Vf(n,t){return n==null?{scope:t,label:"Frequency",reduce:(e,r,i=1)=>e.length/i}:{scope:t,reduce:(e,r,i=1)=>to(e,a=>r[a])/i}}function ed(n,t){const e=(+n+ +t)/2;return n instanceof Date?new Date(e):e}const ab={reduce(n,t,{x1:e,x2:r}){return ed(e,r)}},ob={reduce(n,t,{y1:e,y2:r}){return ed(e,r)}},fb={reduce(n,t,{x1:e}){return e}},cb={reduce(n,t,{x2:e}){return e}},ub={reduce(n,t,{y1:e}){return e}},sb={reduce(n,t,{y2:e}){return e}};function qe(n,{scale:t,type:e,value:r,filter:i,hint:a},o){return rd(o,{scale:t,type:e,value:wt(n,r),label:vi(r),filter:i,hint:a})}function lb(n,t){return Object.fromEntries(Object.entries(n).map(([e,r])=>[e,qe(t,r,e)]))}function db(n,t){return Object.fromEntries(Object.entries(n).map(([e,{scale:r,value:i}])=>{const a=r==null?null:t[r];return[e,a==null?i:gn(i,a)]}))}function rd(n,t){const{scale:e,value:r}=t;if(e===!0||e==="auto")switch(n){case"fill":case"stroke":case"color":t.scale=Bf(r,Mi)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale="opacity";break;case"symbol":Bf(r,Gm)?(t.scale=null,t.value=gn(r,$o)):t.scale="symbol";break;default:t.scale=tn.has(n)?n:null;break}else if(e!=null&&!tn.has(e))throw new Error(`unknown scale: ${e}`);return t}function hb(n,t,e,r){const{reverse:i,reduce:a=!0,limit:o}=r;for(const f in r){if(!tn.has(f))continue;let{value:c,reverse:s=i,reduce:u=a,limit:d=o}=_o(r[f]);if(s===void 0&&(s=c==="width"||c==="height"),u==null||u===!1)continue;const l=Xf(n,f)||t&&Xf(t,f);if(!l)throw new Error(`missing channel for scale: ${f}`);const h=l.value,[p=0,m=1/0]=Ot(d)?d:d<0?[d]:[0,d];if(c==null)l.domain=()=>{let g=h;return s&&(g=g.slice().reverse()),(p!==0||m!==1/0)&&(g=g.slice(p,m)),g};else{const g=c==="data"?e:c==="height"?Gf(n,"y1","y2"):c==="width"?Gf(n,"x1","x2"):Xa(n,c,c==="y"?"y2":c==="x"?"x2":void 0),y=Jm(u===!0?"max":u,g);l.domain=()=>{let v=gr(wi(h),w=>y.reduce(w,g),w=>h[w]);return v=Oc(v,s?gb:pb),(p!==0||m!==1/0)&&(v=v.slice(p,m)),v.map(Wl)}}}}function Xf(n,t){for(const e in n){const r=n[e];if(r.scale===t)return r}}function Gf(n,t,e){const r=Xa(n,t),i=Xa(n,e);return gn(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Xa(n,t,e){let r=n[t];if(!r&&e!==void 0&&(r=n[e]),r)return r.value;throw new Error(`missing channel: ${t}`)}function pb([n,t],[e,r]){return Un(t,r)||Un(n,e)}function gb([n,t],[e,r]){return Qt(t,r)||Un(n,e)}const Zf=new Map([["accent",em],["category10",tm],["dark2",rm],["paired",im],["pastel1",am],["pastel2",om],["set1",fm],["set2",cm],["set3",um],["tableau10",sm],["brbg",nt(ws,vs)],["prgn",nt(Ms,Ss)],["piyg",nt(xs,_s)],["puor",nt($s,Ts)],["rdbu",nt(Ya,Hr)],["rdgy",nt(Cs,Es)],["rdylbu",nt(Ba,Vr)],["rdylgn",nt(As,Ds)],["spectral",nt(Ns,ks)],["burd",jf(Ya,Hr)],["buylrd",jf(Ba,Vr)],["blues",on(rl,il)],["greens",on(al,ol)],["greys",on(fl,cl)],["oranges",on(hl,pl)],["purples",on(ul,sl)],["reds",on(ll,dl)],["turbo",tt(Ml)],["viridis",tt(Sl)],["magma",tt(xl)],["inferno",tt(_l)],["plasma",tt($l)],["cividis",tt(gl)],["cubehelix",tt(ml)],["warm",tt(bl)],["cool",tt(yl)],["bugn",on(Rs,Ls)],["bupu",on(Os,Us)],["gnbu",on(Fs,Ps)],["orrd",on(Is,qs)],["pubu",on(Ws,zs)],["pubugn",on(Ys,Bs)],["purd",on(Hs,Vs)],["rdpu",on(Xs,Gs)],["ylgn",on(Qs,Ks)],["ylgnbu",on(Zs,js)],["ylorbr",on(Js,nl)],["ylorrd",on(tl,el)],["rainbow",Qf(wl)],["sinebow",Qf(vl)]]);function on(n,t){return({length:e})=>e===1?[n[3][1]]:e===2?[n[3][1],n[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Fn(t,e):n[e])}function nt(n,t){return({length:e})=>e===2?[n[3][0],n[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Fn(t,e):n[e])}function jf(n,t){return({length:e})=>e===2?[n[3][2],n[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Fn(r=>t(1-r),e):n[e].slice().reverse())}function tt(n){return({length:t})=>Fn(n,Math.max(2,Math.floor(t)))}function Qf(n){return({length:t})=>Fn(n,Math.floor(t)+1).slice(0,-1)}function id(n){const t=`${n}`.toLowerCase();if(!Zf.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Zf.get(t)}function Ti(n,t){const e=id(n),r=typeof e=="function"?e({length:t}):e;return r.length!==t?r.slice(0,t):r}function mb(n,t="greys"){const e=new Set,[r,i]=Ti(t,2);for(const a of n)if(a!=null)if(a===!0)e.add(i);else if(a===!1)e.add(r);else return;return[...e]}const Kf=new Map([["brbg",vs],["prgn",Ss],["piyg",_s],["puor",Ts],["rdbu",Hr],["rdgy",Es],["rdylbu",Vr],["rdylgn",Ds],["spectral",ks],["burd",n=>Hr(1-n)],["buylrd",n=>Vr(1-n)],["blues",il],["greens",ol],["greys",cl],["purples",sl],["reds",dl],["oranges",pl],["turbo",Ml],["viridis",Sl],["magma",xl],["inferno",_l],["plasma",$l],["cividis",gl],["cubehelix",ml],["warm",bl],["cool",yl],["bugn",Ls],["bupu",Us],["gnbu",Ps],["orrd",qs],["pubugn",Bs],["pubu",zs],["purd",Vs],["rdpu",Gs],["ylgnbu",js],["ylgn",Ks],["ylorbr",nl],["ylorrd",el],["rainbow",wl],["sinebow",vl]]);function Co(n){const t=`${n}`.toLowerCase();if(!Kf.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Kf.get(t)}const bb=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Jf(n){return n!=null&&bb.has(`${n}`.toLowerCase())}const ad=n=>t=>n(1-t),Qi=[0,1],nc=new Map([["number",ln],["rgb",Et],["hsl",M0],["hcl",ph],["lab",dh]]);function od(n){const t=`${n}`.toLowerCase();if(!nc.has(t))throw new Error(`unknown interpolator: ${t}`);return nc.get(t)}function Ze(n,t,e,{type:r,nice:i,clamp:a,zero:o,domain:f=cd(n,e),unknown:c,round:s,scheme:u,interval:d,range:l=tn.get(n)===Si?Cb(e,f):tn.get(n)===xi?Eb(e,f):tn.get(n)===_i?Qi:void 0,interpolate:h=tn.get(n)===Zn?u==null&&l!==void 0?Et:Co(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?oo:ln,reverse:p}){if(d=te(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=od(h)),h.length===1?(p&&(h=ad(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Qi)),t.interpolate((l===Qi?ne:Ao)(h))):t.interpolate(h),o){const[m,g]=Ht(f);(m>0||g<0)&&(f=za(f),Pe(f)!==Math.sign(m)?f[f.length-1]=0:f[0]=0)}return p&&(f=Tr(f)),t.domain(f).unknown(c),i&&(t.nice(i===!0?void 0:i),f=t.domain()),l!==void 0&&t.range(l),a&&t.clamp(a),{type:r,domain:f,range:l,scale:t,interpolate:h,interval:d}}function yb(n,t,e){return Ze(n,yo(),t,e)}function wb(n,t,e){return fd(n,t,{...e,exponent:.5})}function fd(n,t,{exponent:e=1,...r}){return Ze(n,Qu().exponent(e),t,{...r,type:"pow"})}function vb(n,t,{base:e=10,domain:r=Ab(t),...i}){return Ze(n,Xu().base(e),t,{...i,domain:r})}function Mb(n,t,{constant:e=1,...r}){return Ze(n,Zu().constant(e),t,r)}function Sb(n,t,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:a="rdylbu",domain:o=Db(t),interpolate:f,reverse:c}){return e===void 0&&(e=f!==void 0?Fn(f,i):tn.get(n)===Zn?Ti(a,i):void 0),o.length>0&&(o=Ku(o,e===void 0?{length:i}:e).quantiles()),Eo(n,t,{domain:o,range:e,reverse:c})}function xb(n,t,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:a=cd(n,t),unknown:o,interpolate:f,reverse:c}){const[s,u]=Ht(a);let d;return e===void 0?(d=_r(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,e=f!==void 0?Fn(f,r):tn.get(n)===Zn?Ti(i,r):void 0):(d=Fn(ln(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Pe(Pn(a))<0&&d.reverse(),Eo(n,t,{domain:d,range:e,reverse:c,unknown:o})}function Eo(n,t,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Fn(a,e.length+1):tn.get(n)===Zn?Ti(i,e.length+1):void 0,reverse:f}){e=Pn(e);const c=Pe(e);if(!_b(e,c))throw new Error(`the ${n} scale has a non-monotonic domain`);return f&&(o=Tr(o)),{type:"threshold",scale:Ju(c<0?Tr(e):e,o===void 0?[]:o).unknown(r),domain:e,range:o}}function _b(n,t){for(let e=1,r=n.length,i=n[0];e<r;++e){const a=Qt(i,i=n[e]);if(a!==0&&a!==t)return!1}return!0}function $b(){return{type:"identity",scale:zu()}}function Ye(n,t=jl){return n.length?[Ce(n,({value:e})=>e===void 0?e:Ce(e,t)),ut(n,({value:e})=>e===void 0?e:ut(e,t))]:[0,1]}function cd(n,t){const e=tn.get(n);return(e===Si||e===_i||e===xi?Tb:Ye)(t)}function Tb(n){return[0,n.length?ut(n,({value:t})=>t===void 0?t:ut(t,jl)):1]}function Cb(n,t){const e=n.find(({radius:o})=>o!==void 0);if(e!==void 0)return[0,e.radius];const r=$r(n,.5,({value:o})=>o===void 0?NaN:$r(o,.25,To)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/ut(i);return a<1?i.map(o=>o*a):i}function Eb(n,t){const e=sa(n,({value:a})=>a===void 0?NaN:sa(a,Math.abs)),r=t.map(a=>12*a/e),i=60/ut(r);return i<1?r.map(a=>a*i):r}function Ab(n){for(const{value:t}of n)if(t!==void 0)for(let e of t){if(e>0)return Ye(n,To);if(e<0)return Ye(n,Ql)}return[1,10]}function Db(n){const t=[];for(const{value:e}of n)if(e!==void 0)for(const r of e)t.push(r);return t}function Ao(n){return(t,e)=>r=>n(t+r*(e-t))}function Ci(n,t,e,r,{type:i,nice:a,clamp:o,domain:f=Ye(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=tn.get(n)===Zn?u==null&&d!==void 0?Et:Co(u!==void 0?u:"rdbu"):ln,reverse:p}){s=+s;let[m,g]=f;if(Qt(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,s),g=Math.max(g,s),typeof h!="function"&&(h=od(h)),d!==void 0&&(h=h.length===1?Ao(h)(...d):co(h,d)),p&&(h=ad(h)),l){const y=e.apply(s),v=y-e.apply(m),w=e.apply(g)-y;v<w?m=e.invert(y-w):v>w&&(g=e.invert(y+v))}return t.domain([m,s,g]).unknown(c).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[m,g],pivot:s,interpolate:h,scale:t}}function Nb(n,t,e){return Ci(n,gs(),Ob,t,e)}function kb(n,t,e){return ud(n,t,{...e,exponent:.5})}function ud(n,t,{exponent:e=1,...r}){return Ci(n,ys().exponent(e=+e),Pb(e),t,{...r,type:"diverging-pow"})}function Rb(n,t,{base:e=10,pivot:r=1,domain:i=Ye(t,r<0?Ql:To),...a}){return Ci(n,ms().base(e=+e),Ub,t,{domain:i,pivot:r,...a})}function Lb(n,t,{constant:e=1,...r}){return Ci(n,bs().constant(e=+e),Ib(e),t,r)}const Ob={apply(n){return n},invert(n){return n}},Ub={apply:Math.log,invert:Math.exp},Fb={apply(n){return Math.sign(n)*Math.sqrt(Math.abs(n))},invert(n){return Math.sign(n)*(n*n)}};function Pb(n){return n===.5?Fb:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),n)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/n)}}}function Ib(n){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}}function sd(n,t,e,r){return Ze(n,t,e,r)}function qb(n,t,e){return sd(n,Jg(),t,e)}function Yb(n,t,e){return sd(n,nm(),t,e)}const je=Symbol("ordinal");function ld(n,t,e,{type:r,interval:i,domain:a,range:o,reverse:f,hint:c}){return i=te(i,r),a===void 0&&(a=hd(e,i,n)),(r==="categorical"||r===je)&&(r="ordinal"),f&&(a=Tr(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:c,interval:i}}function Bb(n,t,{type:e,interval:r,domain:i,range:a,scheme:o,unknown:f,...c}){r=te(r,e),i===void 0&&(i=hd(t,r,n));let s;if(tn.get(n)===$i)s=Hb(t),a=a===void 0?Vb(s):gn(a,$o);else if(tn.get(n)===Zn&&(a===void 0&&(e==="ordinal"||e===je)&&(a=mb(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=e==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const u=Co(o),d=a[0],l=a[1]-a[0];a=({length:h})=>Fn(p=>u(d+l*p),h)}else a=id(o);if(f===Pa)throw new Error(`implicit unknown on ${n} scale is not supported`);return ld(n,bo().unknown(f),t,{...c,type:e,domain:i,range:a,hint:s})}function Wb(n,t,{align:e=.5,padding:r=.5,...i}){return dd(Rp().align(e).padding(r),t,i,n)}function zb(n,t,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=n==="fx"||n==="fy"?0:r,...o}){return dd(oi().align(e).paddingInner(i).paddingOuter(a),t,o,n)}function dd(n,t,e,r){let{round:i}=e;return i!==void 0&&n.round(i=!!i),n=ld(r,n,t,e),n.round=i,n}function hd(n,t,e){const r=new Nc;for(const{value:i,domain:a}of n){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=Ht(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&tn.get(e)===zn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Oc(r,Va)}function tc(n,t){let e;for(const{hint:r}of n){const i=r==null?void 0:r[t];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function Hb(n){return{fill:tc(n,"fill"),stroke:tc(n,"stroke")}}function Vb(n){return Sn(n.fill)?Mm:vm}let Ga=0;function Xb(){const n=Ga;return Ga=0,n}function Te(n){console.warn(n),++Ga}function Za(n,{label:t,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:a=e,insetLeft:o=e,round:f,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[y,v]of n){const w=m[y],b=Qb(y,v,{round:tn.get(y)===zn?f:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...w});if(b){let{label:S=y==="fx"||y==="fy"?p:t,percent:x,transform:_,inset:N,insetTop:k=N!==void 0?N:y==="y"?r:0,insetRight:L=N!==void 0?N:y==="x"?i:0,insetBottom:A=N!==void 0?N:y==="y"?a:0,insetLeft:U=N!==void 0?N:y==="x"?o:0}=w||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");b.percent=!!x,b.label=S===void 0?Zb(v,b):S,b.transform=_,y==="x"||y==="fx"?(b.insetLeft=+U,b.insetRight=+L):(y==="y"||y==="fy")&&(b.insetTop=+k,b.insetBottom=+A),g[y]=b}}return g}function ec(n){return Object.fromEntries(Object.entries(n).filter(([,{scale:t}])=>t).map(([t,{scale:e,type:r,interval:i,label:a}])=>(e.type=r,i!=null&&(e.interval=i),a!=null&&(e.label=a),[t,e])))}function Gb(n,t){const{x:e,y:r,fx:i,fy:a}=n,o=i||a?Do(t):t;i&&rc(i,o),a&&ic(a,o);const f=i||a?pd(n,t):t;e&&rc(e,f),r&&ic(r,f)}function Zb(n=[],t){let e;for(const{label:r}of n)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0&&!(bd(t)&&/^(date|time|year)$/i.test(e)))return!Ut(t)&&t.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Do(n){const{marginTop:t,marginRight:e,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=n;return{marginTop:Math.max(t,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:a,height:o}}function pd({fx:n,fy:t},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=Do(e);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:n?n.scale.bandwidth()+o+i:f,height:t?t.scale.bandwidth()+r+a:c}}function rc(n,t){if(n.range===void 0){const{insetLeft:e,insetRight:r}=n,{width:i,marginLeft:a=0,marginRight:o=0}=t,f=a+e,c=i-o-r;n.range=[f,Math.max(f,c)],Ut(n)||(n.range=md(n)),n.scale.range(n.range)}gd(n)}function ic(n,t){if(n.range===void 0){const{insetTop:e,insetBottom:r}=n,{height:i,marginTop:a=0,marginBottom:o=0}=t,f=a+e,c=i-o-r;n.range=[Math.max(f,c),f],Ut(n)?n.range.reverse():n.range=md(n),n.scale.range(n.range)}gd(n)}function gd(n){n.round===void 0&&Jb(n)&&jb(n)<=30&&n.scale.round(!0)}function jb({scale:n}){const t=n.domain().length,[e,r]=n.range(),i=n.paddingInner?n.paddingInner():1,a=n.paddingOuter?n.paddingOuter():n.padding(),o=t-i,f=Math.abs(r-e)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function md(n){const t=n.scale.domain().length+yd(n);if(!(t>2))return n.range;const[e,r]=n.range;return Array.from({length:t},(i,a)=>e+a/(t-1)*(r-e))}function Qb(n,t=[],e={}){const r=Kb(n,t,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&n!=="fx"&&n!=="fy"&&Ut({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(ht)?Te(`Warning: some data associated with the ${n} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qt(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${n} scale to "${qt(r)}".`):i.some(Im)?Te(`Warning: some data associated with the ${n} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qt(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${n} scale to "${qt(r)}".`):i.some(qm)&&Te(`Warning: some data associated with the ${n} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qt(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${n} scale to "${qt(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=cr(t,e,oc);break;case"identity":switch(tn.get(n)){case zn:e=cr(t,e,oc);break;case $i:e=cr(t,e,n2);break}break;case"utc":case"time":e=cr(t,e,t2);break}switch(r){case"diverging":return Nb(n,t,e);case"diverging-sqrt":return kb(n,t,e);case"diverging-pow":return ud(n,t,e);case"diverging-log":return Rb(n,t,e);case"diverging-symlog":return Lb(n,t,e);case"categorical":case"ordinal":case je:return Bb(n,t,e);case"cyclical":case"sequential":case"linear":return yb(n,t,e);case"sqrt":return wb(n,t,e);case"threshold":return Eo(n,t,e);case"quantile":return Sb(n,t,e);case"quantize":return xb(n,t,e);case"pow":return fd(n,t,e);case"log":return vb(n,t,e);case"symlog":return Mb(n,t,e);case"utc":return Yb(n,t,e);case"time":return qb(n,t,e);case"point":return Wb(n,t,e);case"band":return zb(n,t,e);case"identity":return tn.get(n)===zn?$b():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qt(n){return typeof n=="symbol"?n.description:n}const ac={toString:()=>"projection"};function Kb(n,t,{type:e,domain:r,range:i,scheme:a,pivot:o,projection:f}){if(n==="fx"||n==="fy")return"band";(n==="x"||n==="y")&&f!=null&&(e=ac);for(const{type:u}of t)if(u!==void 0){if(e===void 0)e=u;else if(e!==u)throw new Error(`scale incompatible with channel: ${e} !== ${u}`)}if(e===ac)return;if(e!==void 0)return e;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const c=tn.get(n);if(c===Si)return"sqrt";if(c===_i||c===xi)return"linear";if(c===$i)return"ordinal";if((r||i||[]).length>2)return Ki(c);if(r!==void 0)return Yf(r)?Ki(c):ht(r)?"utc":c===Zn&&(o!=null||Jf(a))?"diverging":"linear";const s=t.map(({value:u})=>u).filter(u=>u!==void 0);return s.some(Yf)?Ki(c):s.some(ht)?"utc":c===Zn&&(o!=null||Jf(a))?"diverging":"linear"}function Ki(n){switch(n){case zn:return"point";case Zn:return je;default:return"ordinal"}}function bd({type:n}){return n==="time"||n==="utc"}function Ut({type:n}){return n==="ordinal"||n==="point"||n==="band"||n===je}function yd({type:n}){return n==="threshold"}function Jb({type:n}){return n==="point"||n==="band"}function jr(n){if(n===void 0)return!0;const t=n.domain(),e=n(t[0]);for(let r=1,i=t.length;r<i;++r)if(n(t[r])-e)return!1;return!0}function cr(n,{domain:t,...e},r){for(const i of n)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...e}}function n2(n){return gn(n,$o)}function t2(n){return gn(n,r2)}function oc(n){return Om(n)?n:gn(n,e2,Float64Array)}function e2(n){return n==null?NaN:Number(n)}function r2(n){return n instanceof Date&&!isNaN(n)?n:typeof n=="string"?Yl(n):n==null||isNaN(n=+n)?void 0:new Date(n)}function i2(n){return t=>{if(!tn.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in n?a2(n[t]):void 0}}function a2({scale:n,type:t,domain:e,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=n.unknown?n.unknown():void 0;return{type:t,domain:za(e),...r!==void 0&&{range:za(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...n.clamp&&{clamp:n.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...n.base&&{base:n.base()},...n.exponent&&{exponent:n.exponent()},...n.constant&&{constant:n.constant()},...n.align&&{align:n.align(),round:n.round()},...n.padding&&(n.paddingInner?{paddingInner:n.paddingInner(),paddingOuter:n.paddingOuter()}:{padding:n.padding()}),...n.bandwidth&&{bandwidth:n.bandwidth(),step:n.step()},apply:u=>n(u),...n.invert&&{invert:u=>n.invert(u)}}}const wd=Math.PI,et=2*wd,Ji=.618;function o2({projection:n,inset:t=0,insetTop:e=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(n==null)return;if(typeof n.stream=="function")return n;let f,c,s="frame";if(Ge(n)){let S;if({type:n,domain:c,inset:S,insetTop:e=S!==void 0?S:e,insetRight:r=S!==void 0?S:r,insetBottom:i=S!==void 0?S:i,insetLeft:a=S!==void 0?S:a,clip:s=s,...f}=n,n==null)return}typeof n!="function"&&({type:n}=vd(n));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=o,g=u-l-h-a-r,y=d-p-m-e-i;if(n=n==null?void 0:n({width:g,height:y,clip:s,...f}),n==null)return;s=f2(s,l,p,u-h,d-m);let v=l+a,w=p+e,b;if(c!=null){const[[S,x],[_,N]]=Cu(n).bounds(c),k=Math.min(g/(_-S),y/(N-x));k>0?(v-=(k*(S+_)-g)/2,w-=(k*(x+N)-y)/2,b=Ua({point(L,A){this.stream.point(L*k+v,A*k+w)}})):Te("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=v===0&&w===0?Md():Ua({point(S,x){this.stream.point(S+v,x+w)}})),{stream:S=>n.stream(b.stream(s(S)))}}function vd(n){switch(`${n}`.toLowerCase()){case"albers-usa":return Rn(yp,.7463,.4673);case"albers":return ur(ku,.7463,.4673);case"azimuthal-equal-area":return Rn(wp,4,4);case"azimuthal-equidistant":return Rn(vp,et,et);case"conic-conformal":return ur(xp,et,et);case"conic-equal-area":return ur(Yr,6.1702,2.9781);case"conic-equidistant":return ur(Tp,7.312,3.6282);case"equal-earth":return Rn(Ep,5.4133,2.6347);case"equirectangular":return Rn(_p,et,wd);case"gnomonic":return Rn(Ap,3.4641,3.4641);case"identity":return{type:Md};case"reflect-y":return{type:c2};case"mercator":return Rn(Mp,et,et);case"orthographic":return Rn(Dp,2,2);case"stereographic":return Rn(Np,2,2);case"transverse-mercator":return Rn(kp,et,et);default:throw new Error(`unknown projection type: ${n}`)}}function f2(n,t,e,r,i){if(n===!1||n==null||typeof n=="number")return a=>a;switch(n===!0&&(n="frame"),`${n}`.toLowerCase()){case"frame":return gu(t,e,r,i);default:throw new Error(`unknown projection clip type: ${n}`)}}function Rn(n,t,e){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var s,u,d;const c=n();return o!=null&&((s=c.precision)==null||s.call(c,o)),a!=null&&((u=c.rotate)==null||u.call(c,a)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),c.scale(Math.min(r/t,i/e)),c.translate([r/2,i/2]),c},aspectRatio:e/t}}function ur(n,t,e){const{type:r,aspectRatio:i}=Rn(n,t,e);return{type:a=>{const{parallels:o,domain:f,width:c,height:s}=a,u=r(a);return o!=null&&(u.parallels(o),f===void 0&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const Md=ne({stream:n=>n}),c2=ne(Ua({point(n,t){this.stream.point(n,-t)}}));function na(n,t,e,r,i){const a=e[n]&&e[n].scale==="x",o=e[t]&&e[t].scale==="y";if(a&&o)u2(n,t,r,i.projection);else{if(a)throw new Error(`projection requires paired x and y channels; ${n} is missing ${t}`);if(o)throw new Error(`projection requires paired x and y channels; ${t} is missing ${n}`)}}function u2(n,t,e,r){const i=e[n],a=e[t],o=i.length,f=e[n]=new Float64Array(o).fill(NaN),c=e[t]=new Float64Array(o).fill(NaN);let s;const u=r.stream({point(d,l){f[s]=d,c[s]=l}});for(s=0;s<o;++s)u.point(i[s],a[s])}function s2(n,t){if(typeof(n==null?void 0:n.stream)=="function")return Ji;if(Ge(n)&&(n=n.type),n==null)return l2(t)?Ji:void 0;if(typeof n!="function"){const{aspectRatio:e}=vd(n);if(e)return e}return Ji}function l2(n){for(const t of n)if(t.channels.geometry)return!0;return!1}function No(n={},t){const{document:e=typeof window<"u"?window.document:void 0}=n;return{document:e,projection:o2(n,t)}}function Kn(n,{document:t}){return oa(S0(n).call(t.documentElement))}function d2(n){let t,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,a)=>i!==r[a]))&&(e=r,t=n(...r)),t)}const h2=d2(n=>new Intl.NumberFormat(n));function p2(n="en-US"){const t=h2(n);return e=>e!=null&&!isNaN(e)?t.format(e):void 0}function Sd(n){return Sm(n,"Invalid Date")}function g2(n="en-US"){const t=p2(n);return e=>(e instanceof Date?Sd:typeof e=="number"?t:On)(e)}const ko=g2(),xn=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let m2=0;function fc(){return`plot-clip-${++m2}`}function b2(n,{title:t,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:v,paintOrder:w,pointerEvents:b,shapeRendering:S},{ariaLabel:x,fill:_="currentColor",fillOpacity:N,stroke:k="none",strokeOpacity:L,strokeWidth:A,strokeLinecap:U,strokeLinejoin:$,strokeMiterlimit:C,paintOrder:M}){_===null&&(f=null,c=null),k===null&&(s=null,d=null),Sn(_)?!Sn(k)&&!Sn(f)&&(k="none"):Sn(k)&&!Sn(s)&&(_="none");const[E,O]=Zr(f,_),[W,z]=Wn(c,N),[G,j]=Zr(s,k),[mn,wn]=Wn(d,L),[mt,qn]=Wn(y);Fe(j)||(u===void 0&&(u=A),h===void 0&&(h=U),l===void 0&&(l=$),p===void 0&&!Bm(l)&&(p=C),!Fe(O)&&w===void 0&&(w=M));const[Ai,Di]=Wn(u);return _!==null&&(n.fill=hn(O,"currentColor"),n.fillOpacity=de(z,1)),k!==null&&(n.stroke=hn(j,"none"),n.strokeWidth=de(Di,1),n.strokeOpacity=de(wn,1),n.strokeLinejoin=hn(l,"miter"),n.strokeLinecap=hn(h,"butt"),n.strokeMiterlimit=de(p,4),n.strokeDasharray=hn(m,"none"),n.strokeDashoffset=hn(g,"0")),n.target=On(o),n.ariaLabel=On(x),n.ariaDescription=On(i),n.ariaHidden=On(a),n.opacity=de(qn,1),n.mixBlendMode=hn(v,"normal"),n.paintOrder=hn(w,"normal"),n.pointerEvents=hn(b,"auto"),n.shapeRendering=hn(S,"auto"),{title:{value:t,optional:!0},href:{value:e,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:E,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"opacity",optional:!0},stroke:{value:G,scale:"auto",optional:!0},strokeOpacity:{value:mn,scale:"opacity",optional:!0},strokeWidth:{value:Ai,optional:!0},opacity:{value:mt,scale:"opacity",optional:!0}}}function y2(n,t){t&&n.filter(e=>Zl(t[e])).append("title").call(w2,t)}function w2(n,t){t&&n.text(e=>ko(t[e]))}function Qe(n,{target:t},{ariaLabel:e,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:f,strokeWidth:c,opacity:s,href:u}){e&&H(n,"aria-label",d=>e[d]),i&&H(n,"fill",d=>i[d]),a&&H(n,"fill-opacity",d=>a[d]),o&&H(n,"stroke",d=>o[d]),f&&H(n,"stroke-opacity",d=>f[d]),c&&H(n,"stroke-width",d=>c[d]),s&&H(n,"opacity",d=>s[d]),u&&S2(n,d=>u[d],t),y2(n,r)}function v2(n){return n===!0?n="frame":n===!1&&(n=null),zl(n,"clip",["frame","sphere"])}function M2(n,t,e,r){let i;switch(t.clip){case"frame":{const{width:a,height:o,marginLeft:f,marginRight:c,marginTop:s,marginBottom:u}=e,d=fc();i=`url(#${d})`,n=Kn("svg:g",r).call(l=>l.append("svg:clipPath").attr("id",d).append("rect").attr("x",f).attr("y",s).attr("width",a-c-f).attr("height",o-s-u)).each(function(){this.appendChild(n.node()),n.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const o=fc();i=`url(#${o})`,n.append("clipPath").attr("id",o).append("path").attr("d",Cu(a)({type:"Sphere"}));break}}H(n,"aria-label",t.ariaLabel),H(n,"aria-description",t.ariaDescription),H(n,"aria-hidden",t.ariaHidden),H(n,"clip-path",i)}function ee(n,t,e,r){M2(n,t,e,r),H(n,"fill",t.fill),H(n,"fill-opacity",t.fillOpacity),H(n,"stroke",t.stroke),H(n,"stroke-width",t.strokeWidth),H(n,"stroke-opacity",t.strokeOpacity),H(n,"stroke-linejoin",t.strokeLinejoin),H(n,"stroke-linecap",t.strokeLinecap),H(n,"stroke-miterlimit",t.strokeMiterlimit),H(n,"stroke-dasharray",t.strokeDasharray),H(n,"stroke-dashoffset",t.strokeDashoffset),H(n,"shape-rendering",t.shapeRendering),H(n,"paint-order",t.paintOrder),H(n,"pointer-events",t.pointerEvents)}function re(n,t){x2(n,"mix-blend-mode",t.mixBlendMode),H(n,"opacity",t.opacity)}function S2(n,t,e){n.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(vr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(vr.xlink,"href",i),e!=null&&a.setAttribute("target",e),this.parentNode.insertBefore(a,this).appendChild(this)}})}function H(n,t,e){e!=null&&n.attr(t,e)}function x2(n,t,e){e!=null&&n.style(t,e)}function ie(n,t,{x:e,y:r},i=xn,a=xn){i+=t.dx,a+=t.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&n.attr("transform",`translate(${i},${a})`)}function hn(n,t){if((n=On(n))!==t)return n}function de(n,t){if((n=en(n))!==t)return n}const _2=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/;function Ro(n){if(n===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(n=`${n}`,!_2.test(n))throw new Error(`invalid class name: ${n}`);return n}function Lo(n,t){if(typeof t=="string")n.property("style",t);else if(t!=null)for(const e of n)Object.assign(e.style,t)}function xd({frameAnchor:n},{width:t,height:e,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(n)?o:/right$/.test(n)?t-i:(o+t-i)/2,/^top/.test(n)?r:/^bottom/.test(n)?e-a:(r+e-a)/2]}function $2(n,t,e={}){let r=.5-xn,i=.5+xn,a=.5+xn,o=.5-xn;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:v}of t)m>r&&(r=m),g>i&&(i=g),y>a&&(a=y),v>o&&(o=v);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:d=f!==void 0?f:o}=e;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=T2(n,t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,c-r+u-a)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(n.fx||n.fy){let{margin:m,marginTop:g=m!==void 0?m:c,marginRight:y=m!==void 0?m:s,marginBottom:v=m!==void 0?m:u,marginLeft:w=m!==void 0?m:d}=e.facet??{};g=+g,y=+y,v=+v,w=+w,p.facet={marginTop:g,marginRight:y,marginBottom:v,marginLeft:w}}return p}function T2({x:n,y:t,fy:e,fx:r},i,{projection:a,aspectRatio:o},{width:f,marginTopDefault:c,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:d}){const l=e?e.scale.domain().length:1,h=s2(a,i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*l-.1)/(1.1*m-.1)*h,y=Math.max(.1,Math.min(10,g));return Math.round((f-d-s)*y+c+u)}const p=t?Ut(t)?t.scale.domain().length:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const m=cc("y",t)/(cc("x",n)*o),g=r?r.scale.bandwidth():1,y=e?e.scale.bandwidth():1,v=g*(f-d-s)-n.insetLeft-n.insetRight;return(m*v+t.insetTop+t.insetBottom)/y+c+u}return!!(t||e)*Math.max(1,Math.min(60,p*l))*20+!!r*30+60}function cc(n,t){if(!t)throw new Error(`aspectRatio requires ${n} scale`);const{type:e,domain:r}=t;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${n} scale for aspectRatio: ${e}`)}const[a,o]=Ht(r);return Math.abs(i(o)-i(a))}function C2(n,t){const{fx:e,fy:r}=Za(n,t),i=e==null?void 0:e.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?N0(i,a).map(([o,f],c)=>({x:o,y:f,i:c})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function E2({x:n,y:t}){const e=n&&new Map(n.map((i,a)=>[i,a])),r=t&&new Map(t.map((i,a)=>[i,a]));return n&&t?(i,a)=>e.get(i.x)-e.get(a.x)||r.get(i.y)-r.get(a.y):n?(i,a)=>e.get(i.x)-e.get(a.x):(i,a)=>r.get(i.y)-r.get(a.y)}function Oo(n,{fx:t,fy:e}){const r=wi(n),i=t==null?void 0:t.value,a=e==null?void 0:e.value;return t&&e?gr(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?gr(r,o=>(o.fx=i[o[0]],o),o=>i[o]):gr(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function A2(n,t,{marginTop:e,marginLeft:r}){return n&&t?({x:i,y:a})=>`translate(${n(i)-r},${t(a)-e})`:n?({x:i})=>`translate(${n(i)-r},0)`:({y:i})=>`translate(0,${t(i)-e})`}function D2(n){const t=[],e=new Uint32Array(to(n,r=>r.length));for(const r of n){let i=0;for(const a of n)r!==a&&(e.set(a,i),i+=a.length);t.push(e.slice(0,i))}return t}const N2=new Map([["top",ta],["right",ia],["bottom",ea],["left",ra],["top-left",sr(ta,ra)],["top-right",sr(ta,ia)],["bottom-left",sr(ea,ra)],["bottom-right",sr(ea,ia)],["top-empty",R2],["right-empty",U2],["bottom-empty",L2],["left-empty",O2],["empty",F2]]);function k2(n){if(n==null)return null;const t=N2.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${n}`)}function ta(n,{y:t},{y:e}){return t?t.indexOf(e)===0:!0}function ea(n,{y:t},{y:e}){return t?t.indexOf(e)===t.length-1:!0}function ra(n,{x:t},{x:e}){return t?t.indexOf(e)===0:!0}function ia(n,{x:t},{x:e}){return t?t.indexOf(e)===t.length-1:!0}function R2(n,{y:t},{x:e,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a>0){const f=t[a-1];return(o=n.find(c=>c.x===e&&c.y===f))==null?void 0:o.empty}}function L2(n,{y:t},{x:e,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a<(t==null?void 0:t.length)-1){const f=t[a+1];return(o=n.find(c=>c.x===e&&c.y===f))==null?void 0:o.empty}}function O2(n,{x:t},{x:e,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(e);if(a>0){const f=t[a-1];return(o=n.find(c=>c.x===f&&c.y===r))==null?void 0:o.empty}}function U2(n,{x:t},{x:e,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(e);if(a<(t==null?void 0:t.length)-1){const f=t[a+1];return(o=n.find(c=>c.x===f&&c.y===r))==null?void 0:o.empty}}function F2(n,t,{empty:e}){return e}function sr(n,t){return function(){return n.apply(null,arguments)&&t.apply(null,arguments)}}function aa(n,{channels:{fx:t,fy:e},groups:r}){return t&&e?n.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?n.map(({x:i})=>r.get(i)??[]):n.map(({y:i})=>r.get(i)??[])}function _d(n){return Ut(n)&&n.interval===void 0?void 0:"tabular-nums"}function P2(n,t){return n===void 0?ht(t)?Sd:On:typeof n=="function"?n:(typeof n=="string"?ht(t)?pi:Be:ne)(n)}function I2(n,t){let{label:e=n.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=_d(n),round:p=!0,className:m}=t;const g=No(t);m=Ro(m),l===null&&(l=()=>null);const y=Kn("svg",g).attr("class",m).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(A=>A.append("style").text(`
        .${m} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${m} text {
          white-space: pre;
        }
      `)).call(Lo,u);let v=A=>A.selectAll(".tick line").attr("y1",o+c-a),w;const b=p?(A,U)=>A.rangeRound(U):(A,U)=>A.range(U),{type:S,domain:x,range:_,interpolate:N,scale:k,pivot:L}=n;if(N){const A=_===void 0?N:co(N.length===1?Ao(N):N,_);w=b(k.copy(),Fn(ln(s,i-f),Math.min(x.length+(L!==void 0),_===void 0?1/0:_.length)));const U=256,$=g.document.createElement("canvas");$.width=U,$.height=1;const C=$.getContext("2d");for(let M=0,E=U-1;M<U;++M)C.fillStyle=A(M/E),C.fillRect(M,0,1,1);y.append("image").attr("x",s).attr("y",o).attr("width",i-s-f).attr("height",a-o-c).attr("preserveAspectRatio","none").attr("xlink:href",$.toDataURL())}else if(S==="threshold"){const A=x,U=l===void 0?$=>$:typeof l=="string"?Be(l):l;w=b(yo().domain([-1,_.length-1]),[s,i-f]),y.append("g").selectAll().data(_).enter().append("rect").attr("x",($,C)=>w(C-1)).attr("y",o).attr("width",($,C)=>w(C)-w(C-1)).attr("height",a-o-c).attr("fill",$=>$),d=gn(A,($,C)=>C),l=$=>U(A[$],$)}else w=b(oi().domain(x),[s,i-f]),y.append("g").selectAll().data(x).enter().append("rect").attr("x",w).attr("y",o).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",a-o-c).attr("fill",k),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-c})`).call(Sh(w).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",hn(h,"normal")).call(v).call(A=>A.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",s).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}function uc(n,t){if(t==null)return t;const e=n(t);if(!e)throw new Error(`scale not found: ${t}`);return e}function q2(n,t){if(!Ut(n)&&!yd(n))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${n.type})`);return $d(n,t,(e,r)=>e.append("svg").attr("fill",r.scale).append("rect").attr("width","100%").attr("height","100%"),e=>`.${e}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function Y2(n,{fill:t=(s=>(s=n.hint)==null?void 0:s.fill)()!==void 0?n.hint.fill:"none",fillOpacity:e=1,stroke:r=(u=>(u=n.hint)==null?void 0:u.stroke)()!==void 0?n.hint.stroke:Sn(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},c){const[d,l]=Zr(t),[h,p]=Zr(r),m=uc(c,d),g=uc(c,h),y=o*o*Math.PI;return e=Wn(e)[1],i=Wn(i)[1],a=Wn(a)[1],$d(n,f,v=>v.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",d==="color"?w=>m.scale(w):null).attr("stroke",h==="color"?w=>g.scale(w):null).append("path").attr("d",w=>{const b=Ma();return n.scale(w).draw(b,y),b}),v=>`.${v}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${l};
        fill-opacity: ${e};
        stroke: ${p};
        stroke-width: ${a}px;
        stroke-opacity: ${i};
      }`)}function $d(n,t={},e,r){let{columns:i,tickFormat:a,fontVariant:o=_d(n),swatchSize:f=15,swatchWidth:c=f,swatchHeight:s=f,marginLeft:u=0,className:d,style:l,width:h}=t;const p=No(t);d=Ro(d),a=P2(a,n.domain);const m=Kn("div",p).attr("class",d).attr("style",`
        --swatchWidth: ${+c}px;
        --swatchHeight: ${+s}px;
      `);let g;return i!=null?(g=`
      .${d}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${d}-swatch::before {
        flex-shrink: 0;
      }
      .${d}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,m.style("columns",i).selectAll().data(n.domain).enter().append("div").attr("class",`${d}-swatch`).call(e,n).call(y=>y.append("div").attr("class",`${d}-label`).attr("title",a).text(a))):(g=`
      .${d} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${d}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,m.selectAll().data(n.domain).enter().append("span").attr("class",`${d}-swatch`).call(e,n).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),m.call(y=>y.insert("style","*").text(`
        .${d} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${u===void 0?"":`
          margin-left: ${+u}px;`}${h===void 0?"":`
          width: ${h}px;`}
        }
        ${r(d)}
        ${g}
      `)).style("font-variant",hn(o,"normal")).call(Lo,l).node()}const ja=new Map([["symbol",Y2],["color",Cd],["opacity",W2]]);function B2(n,t,e={}){return(r,i)=>{if(!ja.has(r))throw new Error(`unknown legend type: ${r}`);if(r in n)return ja.get(r)(n[r],Td(t,e[r],i),a=>n[a])}}function Td(n,{label:t,ticks:e,tickFormat:r}={},i){return Wm(i,n,{label:t,ticks:e,tickFormat:r})}function Cd(n,{legend:t=!0,...e}){if(t===!0&&(t=n.type==="ordinal"?"swatches":"ramp"),n.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return q2(n,e);case"ramp":return I2(n,e);default:throw new Error(`unknown legend type: ${t}`)}}function W2({type:n,interpolate:t,...e},{legend:r=!0,color:i=Tt(0,0,0),...a}){if(!t)throw new Error(`${n} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Cd({type:n,...e,interpolate:z2(i)},{legend:r,...a})}function z2(n){const{r:t,g:e,b:r}=Tt(n)||Tt(0,0,0);return i=>`rgba(${t},${e},${r},${i})`}function H2(n,t,e){const r=[];for(const[i,a]of ja){const o=e[i];if(o!=null&&o.legend&&i in n){const f=a(n[i],Td(t,n[i],o),c=>n[c]);f!=null&&r.push(f)}}return r}class gt{constructor(t,e={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,clip:y,channels:v}=r;if(this.data=t,this.sort=Ue(s)?s:null,this.initializer=Kl(r).initializer,this.transform=this.initializer?r.transform:jm(r).transform,a===null||a===!1?this.facet=null:(this.facet=pt(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=f,this.fy=c),this.facetAnchor=k2(o),e=Wf(e),v!==void 0&&(e={...Wf(v),...e}),i!==void 0&&(e={...b2(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,b])=>{const{value:S}=b;return xo(S)&&(b={...b,value:S.value},S.scale!==void 0&&(b.scale=S.scale)),[w,b]}).filter(([w,{value:b,optional:S}])=>{if(b!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=v2(y),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:b}=e[w];if(!(b!=="x"&&b!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,e){let r=Pn(this.data);t===void 0&&r!=null&&(t=[wi(r)]),this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=Pn(r));const i=lb(this.channels,r);return this.sort!=null&&hb(i,e,r,this.sort),{data:r,facets:t,channels:i}}filter(t,e,r){for(const i in e){const{filter:a=Ie}=e[i];if(a!==null){const o=r[i];t=t.filter(f=>a(o[f]))}}return t}project(t,e,r){na("x","y",t,e,r),na("x1","y1",t,e,r),na("x2","y2",t,e,r)}scale(t,e,r){const i=db(t,e);return r.projection&&this.project(t,i,r),i}}function Ed(...n){return n.plot=gt.prototype.plot,n}const Ad=Math.PI/180;function Dd({inset:n,insetLeft:t,insetRight:e,...r}={}){return[t,e]=kd(n,t,e),{inset:n,insetLeft:t,insetRight:e,...r}}function Nd({inset:n,insetTop:t,insetBottom:e,...r}={}){return[t,e]=kd(n,t,e),{inset:n,insetTop:t,insetBottom:e,...r}}function kd(n,t,e){return n===void 0&&t===void 0&&e===void 0?xn?[1,0]:[.5,.5]:[t,e]}function Rd(n,{interval:t}){return n={..._o(n)},n.interval=te(n.interval===void 0?t:n.interval),n}function Ld(n,t,e,r){const{[n]:i,[`${n}1`]:a,[`${n}2`]:o}=e,{value:f,interval:c}=Rd(i,e);if(f==null||c==null&&!r)return e;const s=vi(i);if(c==null){let h;const p={transform:m=>h||(h=wt(m,f)),label:s};return{...e,[n]:void 0,[`${n}1`]:a===void 0?p:a,[`${n}2`]:o===void 0?p:o}}let u,d;function l(h){return d!==void 0&&h===u?d:d=gn(wt(u=h,f),p=>c.floor(p))}return t({...e,[n]:void 0,[`${n}1`]:a===void 0?{transform:l,label:s}:a,[`${n}2`]:o===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:o})}function Od(n,t,e){const{[n]:r}=e,{value:i,interval:a}=Rd(r,e);return i==null||a==null?e:t({...e,[n]:{label:vi(r),transform:o=>{const f=gn(wt(o,i),s=>a.floor(s)),c=f.map(s=>a.offset(s));return f.map(ht(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function V2(n={}){return Ld("x",Dd,n)}function X2(n={}){return Ld("y",Nd,n)}function G2(n={}){return Od("x",Dd,n)}function Z2(n={}){return Od("y",Nd,n)}const Ud={ariaLabel:"rule",fill:null,stroke:"currentColor"};class j2 extends gt{constructor(t,e={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:c=o}=e;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,Ud),this.insetTop=en(f),this.insetBottom=en(c)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:v}=this;return Kn("svg:g",a).call(ee,this,i).call(ie,this,{x:c&&o},xn,0).call(w=>w.selectAll().data(t).enter().append("line").call(re,this).attr("x1",c?b=>c[b]:(m+d-p)/2).attr("x2",c?b=>c[b]:(m+d-p)/2).attr("y1",s&&!jr(f)?b=>s[b]+y:h+y).attr("y2",u&&!jr(f)?f.bandwidth?b=>u[b]+f.bandwidth()-v:b=>u[b]-v:l-g-v).call(Qe,this,r)).node()}}class Q2 extends gt{constructor(t,e={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:c=o}=e;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},e,Ud),this.insetRight=en(f),this.insetLeft=en(c)}render(t,e,r,i,a){const{x:o,y:f}=e,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:v}=this;return Kn("svg:g",a).call(ee,this,i,a).call(ie,this,{y:c&&f},0,xn).call(w=>w.selectAll().data(t).enter().append("line").call(re,this).attr("x1",s&&!jr(o)?b=>s[b]+y:m+y).attr("x2",u&&!jr(o)?o.bandwidth?b=>u[b]+o.bandwidth()-v:b=>u[b]-v:d-p-v).attr("y1",c?b=>c[b]:(h+l-g)/2).attr("y2",c?b=>c[b]:(h+l-g)/2).call(Qe,this,r)).node()}}function K2(n,t){let{x:e=Mt,y:r,y1:i,y2:a,...o}=X2(t);return[i,a]=Fd(r,i,a),new j2(n,{...o,x:e,y1:i,y2:a})}function J2(n,t){let{y:e=Mt,x:r,x1:i,x2:a,...o}=V2(t);return[i,a]=Fd(r,i,a),new Q2(n,{...o,y:e,x1:i,x2:a})}function Fd(n,t,e){if(n===void 0){if(t===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,t]}else{if(t===void 0)return e===void 0?[0,n]:[n,e];if(e===void 0)return[n,t]}return[t,e]}function Pd(n,...t){let e=t.length;for(let r=0,i=!0;r<e;++r)typeof t[r]!="function"&&(i&&(n=n.slice(),i=!1),n.splice(r,2,n[r]+t[r]+n[r+1]),t.splice(r,1),--r,--e);return r=>{let i=n[0];for(let a=0;a<e;++a)i+=t[a](r)+n[a+1];return i}}const n6={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Id="­";class Uo extends gt{constructor(t,e={}){const{x:r,y:i,text:a=Ot(t)&&Pm(t)?Mt:Nm,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:c=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:v}=e,[w,b]=Wn(v,0),[S,x]=c6(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:S,optional:!0},rotate:{value:Fm(w),optional:!0},text:{value:a,filter:Zl,optional:!0}},e,n6),this.rotate=b,this.textAnchor=hn(f,"middle"),this.lineAnchor=pt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=t6(d),this.monospace=!!l,this.fontFamily=On(h),this.fontSize=x,this.fontStyle=On(m),this.fontVariant=On(g),this.fontWeight=On(y),this.frameAnchor=Vl(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=l6(this),this.clipLine=d6(this)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=xd(this,i);return Kn("svg:g",a).call(ee,this,i,a).call(a6,this,d,i).call(ie,this,{x:c&&o,y:s&&f}).call(y=>y.selectAll().data(t).enter().append("text").call(re,this).call(e6,this,d,l).attr("transform",Pd`translate(${c?v=>c[v]:m},${s?v=>s[v]:g})${u?v=>` rotate(${u[v]})`:p?` rotate(${p})`:""}`).call(H,"font-size",h&&(v=>h[v])).call(Qe,this,r)).node()}}function t6(n){return n==null?null:pt(n,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function e6(n,t,e,r){if(!e)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:c}=t;n.each(function(s){const u=f(ko(e[s])).map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1)for(let h=0;h<d;++h){if(!u[h])continue;const p=this.ownerDocument.createElementNS(vr.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(l+h)*a}em`),p.textContent=u[h],this.appendChild(p)}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(o&&!r&&u[0]!==e[s]){const h=this.ownerDocument.createElementNS(vr.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Wt(n,t={}){let{x:e,y:r,...i}=t;return t.frameAnchor===void 0&&([e,r]=Hl(e,r)),new Uo(n,{...i,x:e,y:r})}function r6(n,t={}){const{x:e=Mt,...r}=t;return new Uo(n,Z2({...r,x:e}))}function i6(n,t={}){const{y:e=Mt,...r}=t;return new Uo(n,G2({...r,y:e}))}function a6(n,t,e){H(n,"text-anchor",t.textAnchor),H(n,"font-family",t.fontFamily),H(n,"font-size",t.fontSize),H(n,"font-style",t.fontStyle),H(n,"font-variant",t.fontVariant===void 0?o6(e):t.fontVariant),H(n,"font-weight",t.fontWeight)}function o6(n){return Ym(n)||ht(n)?"tabular-nums":void 0}const f6=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function c6(n){return n==null||typeof n=="number"?[void 0,n]:typeof n!="string"?[n,void 0]:(n=n.trim().toLowerCase(),f6.has(n)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(n)?[void 0,n]:[n,void 0])}function u6(n,t,e){const r=[];let i,a=0;for(const[o,f,c]of s6(n)){if(i===void 0&&(i=o),a>i&&e(n,i,f)>t&&(r.push(n.slice(i,a)+(n[a-1]===Id?"-":"")),i=o),c){r.push(n.slice(i,f)),i=void 0;continue}a=f}return r}function*s6(n){let t=0,e=0;const r=n.length;for(;e<r;){let i=1;switch(n[e]){case Id:case"-":++e,yield[t,e,!1],t=e;break;case" ":for(yield[t,e,!1];n[++e]===" ";);t=e;break;case"\r":n[e+1]===`
`&&++i;case`
`:yield[t,e,!0],e+=i,t=e;break;default:++e;break}}yield[t,e,!0]}const sc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function qd(n,t=0,e=n.length){let r=0;for(let i=t;i<e;i=ae(n,i))r+=sc[n[i]]??(Wd(n,i)?120:sc.e);return r}function Yd(n,t=0,e=n.length){let r=0;for(let i=t;i<e;i=ae(n,i))r+=Wd(n,i)?200:100;return r}function l6({monospace:n,lineWidth:t,textOverflow:e}){if(e!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=n?Yd:qd,i=t*100;return a=>u6(a,i,r)}function d6({monospace:n,lineWidth:t,textOverflow:e}){if(e==null||t==1/0)return a=>a;const r=n?Yd:qd,i=t*100;switch(e){case"clip-start":return a=>dc(a,i,r,"");case"clip-end":return a=>lc(a,i,r,"");case"ellipsis-start":return a=>dc(a,i,r,"…");case"ellipsis-middle":return a=>h6(a,i,r,"…");case"ellipsis-end":return a=>lc(a,i,r,"…")}}function Qr(n,t,e,r){const i=[];let a=0;for(let o=0,f=0,c=n.length;o<c;o=f){f=ae(n,o);const s=e(n,o,f);if(a+s>t){for(a+=r;a>t&&o>0;)f=o,o=i.pop(),a-=e(n,o,f);return[o,t-a]}a+=s,i.push(o)}return[-1,0]}function lc(n,t,e,r){n=n.trim();const i=e(r),[a]=Qr(n,t,e,i);return a<0?n:n.slice(0,a).trimEnd()+r}function h6(n,t,e,r){n=n.trim();const i=e(n);if(i<=t)return n;const a=e(r)/2,[o,f]=Qr(n,t/2,e,a),[c]=Qr(n,i-t/2-f+a,e,-a);return c<0?r:n.slice(0,o).trimEnd()+r+n.slice(ae(n,c)).trimStart()}function dc(n,t,e,r){n=n.trim();const i=e(n);if(i<=t)return n;const a=e(r),[o]=Qr(n,i-t+a,e,-a);return o<0?r:r+n.slice(ae(n,o)).trimStart()}const Qa=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,hc=/\p{Extended_Pictographic}/uy;function ae(n,t){return t+=p6(n,t)?2:1,m6(n,t)&&(t=Qa.lastIndex),g6(n,t)?ae(n,t+1):t}function Bd(n,t){return n.charCodeAt(t)<128}function p6(n,t){const e=n.charCodeAt(t);if(e>=55296&&e<56320){const r=n.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function g6(n,t){return n.charCodeAt(t)===8205}function m6(n,t){return Bd(n,t)?!1:(Qa.lastIndex=t,Qa.test(n))}function Wd(n,t){return Bd(n,t)?!1:(hc.lastIndex=t,hc.test(n))}const b6={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},zd=3.5,y6=zd*5,Hd={draw(n,t,e){const r=t*e/y6;n.moveTo(0,0),n.lineTo(0,-t),n.moveTo(-r,r-t),n.lineTo(0,-t),n.lineTo(r,r-t)}},w6={draw(n,t,e){n.moveTo(-e,0),n.lineTo(0,-t),n.lineTo(e,0)}},v6=new Map([["arrow",Hd],["spike",w6]]);function M6(n){return n&&typeof n.draw=="function"}function S6(n){if(M6(n))return n;const t=v6.get(`${n}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${n}`)}class Vd extends gt{constructor(t,e={}){const{x:r,y:i,r:a=zd,length:o,rotate:f,shape:c=Hd,anchor:s="middle",frameAnchor:u}=e,[d,l]=Wn(o,12),[h,p]=Wn(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,b6),this.r=+a,this.length=l,this.rotate=p,this.shape=S6(c),this.anchor=pt(s,"anchor",["start","middle","end"]),this.frameAnchor=Vl(u)}render(t,e,r,i,a){const{x:o,y:f}=e,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,v]=xd(this,i);return Kn("svg:g",a).call(ee,this,i,a).call(ie,this,{x:c&&o,y:s&&f}).call(w=>w.selectAll().data(t).enter().append("path").call(re,this).attr("transform",Pd`translate(${c?b=>c[b]:y},${s?b=>s[b]:v})${d?b=>` rotate(${d[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?b=>` translate(0,${u[b]})`:` translate(0,${l})`:u?b=>` translate(0,${u[b]/2})`:` translate(0,${l/2})`}`).attr("d",u?b=>{const S=Ma();return m.draw(S,u[b],g),S}:(()=>{const b=Ma();return m.draw(b,l,g),b})()).call(Qe,this,r)).node()}}function x6(n,t={}){const{x:e=Mt,...r}=t;return new Vd(n,{...r,x:e})}function _6(n,t={}){const{y:e=Mt,...r}=t;return new Vd(n,{...r,y:e})}function St(n,t){return arguments.length<2&&!Ot(n)&&(t=n,n=null),t===void 0&&(t={}),[n,t]}function Ei({anchor:n}={},t){return n===void 0?t[0]:pt(n,"anchor",t)}function Xd(n){return Ei(n,["left","right"])}function Gd(n){return Ei(n,["right","left"])}function Zd(n){return Ei(n,["bottom","top"])}function jd(n){return Ei(n,["top","bottom"])}function Qd(){const[n,t]=St(...arguments);return Jd("y",Xd(t),n,t)}function $6(){const[n,t]=St(...arguments);return Jd("fy",Gd(t),n,t)}function Kd(){const[n,t]=St(...arguments);return n0("x",Zd(t),n,t)}function T6(){const[n,t]=St(...arguments);return n0("fx",jd(t),n,t)}function Jd(n,t,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="y"?6:0,tickPadding:m,tickRotate:g,x:y,marginTop:v=20,marginRight:w=t==="right"?40:0,marginBottom:b=20,marginLeft:S=t==="left"?40:0,label:x,labelOffset:_,labelAnchor:N,...k}){return p=en(p),m=en(m),g=en(g),N!==void 0&&(N=pt(N,"labelAnchor",["center","top","bottom"])),Ed(p&&!Sn(a)?C6(n,t,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...k}):null,Sn(c)?null:A6(n,t,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:v,marginRight:w,marginBottom:b,marginLeft:S,...k}),!Sn(c)&&x!==null?Wt([],{fill:c,fillOpacity:s,...k,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(L,A,U,$,C){const M=$[n],{marginTop:E,marginRight:O,marginBottom:W,marginLeft:z}=n==="y"&&C.inset||C,G=N??(M.bandwidth?"center":"top"),j=_??(t==="right"?O:z)-3;return G==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=G,this.frameAnchor=`${G}-${t}`,this.rotate=0),this.dy=G==="top"?3-E:G==="bottom"?W-3:0,this.dx=t==="right"?j:-j,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?o0(n,M,G):x]}}}}}):null)}function n0(n,t,e,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=n==="x"?6:0,tickPadding:m,tickRotate:g,y,marginTop:v=t==="top"?30:0,marginRight:w=20,marginBottom:b=t==="bottom"?30:0,marginLeft:S=20,label:x,labelAnchor:_,labelOffset:N,...k}){return p=en(p),m=en(m),g=en(g),_!==void 0&&(_=pt(_,"labelAnchor",["center","left","right"])),Ed(p&&!Sn(a)?E6(n,t,e,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...k}):null,Sn(c)?null:D6(n,t,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:v,marginRight:w,marginBottom:b,marginLeft:S,...k}),!Sn(c)&&x!==null?Wt([],{fill:c,fillOpacity:s,...k,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(L,A,U,$,C){const M=$[n],{marginTop:E,marginRight:O,marginBottom:W,marginLeft:z}=n==="x"&&C.inset||C,G=_??(M.bandwidth?"center":"right"),j=N??(t==="top"?E:W)-3;return G==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${G}`,this.textAnchor=G==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-j:j,this.dx=G==="right"?O-3:G==="left"?3-z:0,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[x===void 0?o0(n,M,G):x]}}}}}):null)}function C6(n,t,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(n==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=n==="y"?void 0:null,...p}){return oe(_6,n,`${n}-axis tick`,e,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:h,...p,dx:t==="left"?+l-xn+ +u:+l+xn-d,anchor:"start",length:c,shape:t==="left"?P6:I6})}function E6(n,t,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(n==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=n==="x"?void 0:null,...p}){return oe(x6,n,`${n}-axis tick`,e,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:h,...p,dy:t==="bottom"?+l-xn-d:+l+xn+ +u,anchor:"start",length:c,shape:t==="bottom"?U6:F6})}function A6(n,t,e,{facetAnchor:r=t+(n==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Ad):0),tickFormat:c,text:s=typeof c=="function"?c:void 0,textAnchor:u=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:d=o>60?"top":o<-60?"bottom":"middle",fontVariant:l,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y=n==="y"?void 0:null,...v}){return oe(i6,n,`${n}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:d,fontVariant:l,rotate:o,y,...v,dx:t==="left"?+g-a-f+ +p:+g+ +a+ +f-m},function(w,b,S){l===void 0&&(this.fontVariant=a0(w)),s===void 0&&(S.text=i0(w,b,c))})}function D6(n,t,e,{facetAnchor:r=t+(n==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Ad):0),tickFormat:c,text:s=typeof c=="function"?c:void 0,textAnchor:u=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:l,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:y=n==="x"?void 0:null,...v}){return oe(r6,n,`${n}-axis tick label`,e,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:d,fontVariant:l,rotate:o,x:y,...v,dy:t==="bottom"?+g+ +a+ +f-m:+g-a-f+ +p},function(w,b,S){l===void 0&&(this.fontVariant=a0(w)),s===void 0&&(S.text=i0(w,b,c))})}function N6(){const[n,t]=St(...arguments);return t0("y",Xd(t),n,t)}function k6(){const[n,t]=St(...arguments);return t0("fy",Gd(t),n,t)}function R6(){const[n,t]=St(...arguments);return e0("x",Zd(t),n,t)}function L6(){const[n,t]=St(...arguments);return e0("fx",jd(t),n,t)}function t0(n,t,e,{y:r=n==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,...f}){return oe(J2,n,`${n}-grid`,e,{y:r,x1:a,x2:o,...r0(f)})}function e0(n,t,e,{x:r=n==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,...f}){return oe(K2,n,`${n}-grid`,e,{x:r,y1:a,y2:o,...r0(f)})}function r0({color:n="currentColor",opacity:t=.1,stroke:e=n,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...a}}function oe(n,t,e,r,i,a){let o;const f=n(r,Kl(i,function(c,s,u,d){const{[t]:l}=d;if(!l)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:m}=i;if(bd(l)&&typeof h=="string"&&(m=h,h=void 0),c==null){if(Ot(h))c=Pn(h);else if(l.ticks)if(h!==void 0)c=l.ticks(h);else if(m=te(m===void 0?l.interval:m,l.type),m!==void 0){const[g,y]=Ht(l.domain());c=m.range(g,m.offset(m.floor(y)))}else{const[g,y]=Ht(l.range());h=(y-g)/(p===void 0?t==="x"?80:35:p),c=l.ticks(h)}else c=l.domain();t==="y"||t==="x"?s=[wi(c)]:(o[t]={scale:t,value:Mt},s=void 0)}return a==null||a.call(this,l,h,o),{data:c,facets:s,channels:Object.fromEntries(Object.entries(o).map(([g,y])=>[g,{...y,value:wt(c,y.value)}]))}}));return r==null?(o=f.channels,f.channels={}):o={},f.ariaLabel=e,f}function i0(n,t,e){return{value:O6(n,t,e)}}function O6(n,t,e){return n.tickFormat?n.tickFormat(Ot(t)?null:t,e):e===void 0?ko:typeof e=="string"?(ht(n.domain())?pi:Be)(e):ne(e)}const U6={draw(n,t){n.moveTo(0,0),n.lineTo(0,t)}},F6={draw(n,t){n.moveTo(0,0),n.lineTo(0,-t)}},P6={draw(n,t){n.moveTo(0,0),n.lineTo(-t,0)}},I6={draw(n,t){n.moveTo(0,0),n.lineTo(t,0)}};function a0(n){return n.bandwidth&&n.interval===void 0?void 0:"tabular-nums"}function q6(n){return Math.sign(Pe(n.domain()))*Math.sign(Pe(n.range()))}function o0(n,t,e){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=q6(t);return i?n==="x"||e==="center"?n==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const Y6={ariaLabel:"frame",fill:"none",stroke:"currentColor"},B6={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class W6 extends gt{constructor(t={}){const{anchor:e=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:f=r,rx:c,ry:s}=t;super(void 0,void 0,t,e==null?Y6:B6),this.anchor=zl(e,"anchor",["top","right","bottom","left"]),this.insetTop=en(i),this.insetRight=en(a),this.insetBottom=en(o),this.insetLeft=en(f),this.rx=en(c),this.ry=en(s)}render(t,e,r,i,a){const{marginTop:o,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g,rx:y,ry:v}=this,w=s+g,b=u-f-p,S=o+h,x=d-c-m;return Kn(l?"svg:line":"svg:rect",a).call(ee,this,i,a).call(re,this).call(ie,this,{}).call(l==="left"?_=>_.attr("x1",w).attr("x2",w).attr("y1",S).attr("y2",x):l==="right"?_=>_.attr("x1",b).attr("x2",b).attr("y1",S).attr("y2",x):l==="top"?_=>_.attr("x1",w).attr("x2",b).attr("y1",S).attr("y2",S):l==="bottom"?_=>_.attr("x1",w).attr("x2",b).attr("y1",x).attr("y2",x):_=>_.attr("x",w).attr("y",S).attr("width",b-w).attr("height",x-S).attr("rx",y).attr("ry",v)).node()}}function z6(n){return new W6(n)}function f0(n={}){const{facet:t,style:e,caption:r,ariaLabel:i,ariaDescription:a}=n,o=Ro(n.className),f=n.marks===void 0?[]:pc(n.marks),c=Z6(t,n),s=new Map;for(const $ of f){const C=gc($,c,n);C&&s.set($,C)}const u=new Map;c&&he(u,[c]),he(u,s);const d=pc(j6(f,u,n));for(const $ of d){const C=gc($,c,n);C&&s.set($,C)}f.unshift(...d);const l=C2(u,n);if(l!==void 0){const $=c?aa(l,c):void 0;for(const M of f){if(M.facet===null||M.facet==="super")continue;const E=s.get(M);E!==void 0&&(E.facetsIndex=M.fx!=null||M.fy!=null?aa(l,E):$)}const C=new Set;for(const{facetsIndex:M}of s.values())M==null||M.forEach((E,O)=>{(E==null?void 0:E.length)>0&&C.add(O)});l.forEach(0<C.size&&C.size<l.length?(M,E)=>M.empty=!C.has(E):M=>M.empty=!1);for(const M of f)if(M.facet==="exclude"){const E=s.get(M);E!==void 0&&(E.facetsIndex=D2(E.facetsIndex))}}for(const $ of tn.keys())Ha(n[$])&&$!=="fx"&&$!=="fy"&&u.set($,[]);const h=new Map;for(const $ of f){if(h.has($))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:C,channels:M}=s.get($)??{},{data:E,facets:O,channels:W}=$.initialize(C,M);Fo(W,n),h.set($,{data:E,facets:O,channels:W})}const p=Za(he(u,h),n),m=ec(p),g=$2(p,f,n);Gb(p,g);const{fx:y,fy:v}=m,w=y||v?pd(p,g):g,b=y||v?ry(m,g):g,S=No(n,w),x=new Set;for(const[$,C]of h)if($.initializer!=null){const M=$.facet==="super"?b:w,E=$.initializer(C.data,C.facets,C.channels,m,M,S);if(E.data!==void 0&&(C.data=E.data),E.facets!==void 0&&(C.facets=E.facets),E.channels!==void 0){G6(E.channels),Object.assign(C.channels,E.channels);for(const z of Object.values(E.channels)){const{scale:G}=z;G!=null&&tn.get(G)!==zn&&(c0(z,n),x.add(G))}const{fx:O,fy:W}=E.channels;if(O!=null||W!=null){const z=s.get($)??{channels:{}};O!=null&&(z.channels.fx=O),W!=null&&(z.channels.fy=W),z.groups=Oo(C.data,z.channels),z.facetsIndex=C.facets=aa(l,z),s.set($,z)}}}if(x.size){const $=new Map;he($,h,E=>x.has(E)),he(u,h,E=>x.has(E));const C=ey(Za($,n),p),M=ec(C);Object.assign(p,C),Object.assign(m,M)}for(const[$,C]of h)C.values=$.scale(C.channels,m,S);const{width:_,height:N}=g,k=Kn("svg",S).attr("class",o).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",_).attr("height",N).attr("viewBox",`0 0 ${_} ${N}`).attr("aria-label",i).attr("aria-description",a).call($=>$.append("style").text(`
        .${o} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${o} text,
        .${o} tspan {
          white-space: pre;
        }
      `)).call(Lo,e).node();if(l!==void 0){const $={x:y==null?void 0:y.domain(),y:v==null?void 0:v.domain()};l.sort(E2($)),oa(k).selectAll().data(l).enter().append("g").attr("aria-label","facet").attr("transform",A2(y,v,g)).each(function(C){var E;let M=!0;for(const O of f){if(O.facet==="super")continue;const{channels:W,values:z,facets:G}=h.get(O);if(!(((E=O.facetAnchor)==null?void 0:E.call(O,l,$,C))??!C.empty))continue;let j=null;if(G){if(j=G[s.has(O)?C.i:0],j=O.filter(j,W,z),j.length===0)continue;j.fi=C.i}const mn=O.render(j,m,z,w,S);mn!=null&&(M=!1,this.appendChild(mn))}M&&this.remove()})}for(const $ of f){if(l!==void 0&&$.facet!=="super")continue;const{channels:C,values:M,facets:E}=h.get($);let O=null;if(E&&(O=E[0],O=$.filter(O,C,M),O.length===0))continue;const W=$.render(O,m,M,b,S);W!=null&&k.appendChild(W)}let L=k;const A=H2(p,S,n);if(r!=null||A.length>0){const{document:$}=S;L=$.createElement("figure"),L.style.maxWidth="initial";for(const C of A)L.appendChild(C);if(L.appendChild(k),r!=null){const C=$.createElement("figcaption");C.appendChild(r instanceof Node?r:$.createTextNode(r)),L.appendChild(C)}}L.scale=i2(p),L.legend=B2(p,S,n);const U=Xb();return U>0&&oa(k).append("text").attr("x",_).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${U.toLocaleString("en-US")} warning${U===1?"":"s"}. Please check the console.`),L}function H6({marks:n=[],...t}={}){return f0({...t,marks:[...n,this]})}gt.prototype.plot=H6;function pc(n){return n.flat(1/0).filter(t=>t!=null).map(V6)}function V6(n){return typeof n.render=="function"?n:new X6(n)}class X6 extends gt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Fo(n,t){for(const e in n)c0(n[e],t);return n}function c0(n,t){var f;const{scale:e}=n;if(e==null)return;const{type:r,percent:i,interval:a,transform:o=i?c=>c*100:(f=te(a,r))==null?void 0:f.floor}=t[e]??{};o!=null&&(n.value=gn(n.value,o))}function G6(n){for(const t in n)rd(t,n[t])}function he(n,t,e=km){for(const{channels:r}of t.values())for(const i in r){const a=r[i],{scale:o}=a;if(o!=null&&e(o)){const f=n.get(o);f!==void 0?f.push(a):n.set(o,[a])}}return n}function Z6(n,t){if(n==null)return;const{x:e,y:r}=n;if(e==null&&r==null)return;const i=Pn(n.data??e??r);if(i===void 0)throw new Error("missing facet data");const a={};e!=null&&(a.fx=qe(i,{value:e,scale:"fx"})),r!=null&&(a.fy=qe(i,{value:r,scale:"fy"})),Fo(a,t);const o=Oo(i,a);return{channels:a,groups:o,data:n.data}}function gc(n,t,e){var c;if(n.facet===null||n.facet==="super")return;const{fx:r,fy:i}=n;if(r!=null||i!=null){const s=Pn(n.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${n.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=qe(s,{value:r,scale:"fx"})),i!=null&&(u.fy=qe(s,{value:i,scale:"fy"})),Fo(u,e),{channels:u,groups:Oo(s,u)}}if(t===void 0)return;const{channels:a,groups:o,data:f}=t;if(n.facet!=="auto"||n.data===f)return{channels:a,groups:o};(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&((c=Pn(n.data))==null?void 0:c.length)===f.length&&Te(`Warning: the ${n.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function j6(n,t,e){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:m=c,grid:g=m===null?null:s}=a,fx:{axis:y=d,grid:v=y===null?null:l}=o,fy:{axis:w=d,grid:b=w===null?null:l}=f}=e;(r||!Ha(i)&&!mc("x",n))&&(h=p=null),(r||!Ha(a)&&!mc("y",n))&&(m=g=null),t.has("fx")||(y=v=null),t.has("fy")||(w=b=null),h===void 0&&(h=!hr(n,"x")),m===void 0&&(m=!hr(n,"y")),y===void 0&&(y=!hr(n,"fx")),w===void 0&&(w=!hr(n,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),w===!0&&(w=m==="right"||m===null?"left":"right");const S=[];return dr(S,b,k6,f),lr(S,w,$6,"right","left",u,f),dr(S,v,L6,o),lr(S,y,T6,"top","bottom",u,o),dr(S,g,N6,a),lr(S,m,Qd,"left","right",e,a),dr(S,p,R6,i),lr(S,h,Kd,"bottom","top",e,i),S}function lr(n,t,e,r,i,a,o){if(!t)return;const f=Q6(t);o=K6(f?r:t,a,o);const{line:c}=o;(e===Qd||e===Kd)&&c&&!Fe(c)&&n.push(z6(J6(o))),n.push(e(o)),f&&n.push(e({...o,anchor:i,label:null}))}function dr(n,t,e,r){!t||Fe(t)||n.push(e(ny(t,r)))}function Q6(n){return/^\s*both\s*$/i.test(n)}function K6(n,t,{line:e=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=t.label,labelAnchor:h,labelOffset:p}){return{anchor:n,line:e,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelOffset:p}}function J6(n){const{anchor:t,line:e}=n;return{anchor:t,facetAnchor:t+"-empty",stroke:e===!0?void 0:e}}function ny(n,{stroke:t=Mi(n)?n:void 0,ticks:e=ty(n)?n:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function ty(n){switch(typeof n){case"number":return!0;case"string":return!Mi(n)}return Ot(n)||typeof(n==null?void 0:n.range)=="function"}function hr(n,t){const e=`${t}-axis `;return n.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function mc(n,t){for(const e of t)for(const r in e.channels)if(e.channels[r].scale===n)return!0;return!1}function ey(n,t){for(const e in n){const r=n[e],i=t[e];r.label===void 0&&i&&(r.label=i.label)}return n}function ry({fx:n,fy:t},e){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=Do(e),s=n&&bc(n),u=t&&bc(t);return{marginTop:t?u[0]:r,marginRight:n?f-s[1]:i,marginBottom:t?c-u[1]:a,marginLeft:n?s[0]:o,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function bc(n){const t=n.domain();let e=n(t[0]),r=n(t[t.length-1]);return r<e&&([e,r]=[r,e]),[e,r+n.bandwidth()]}class iy extends gt{constructor(t,e,r={},i){super(t,e,r,i);const{inset:a=0,insetTop:o=a,insetRight:f=a,insetBottom:c=a,insetLeft:s=a,rx:u,ry:d}=r;this.insetTop=en(o),this.insetRight=en(f),this.insetBottom=en(c),this.insetLeft=en(s),this.rx=hn(u,"auto"),this.ry=hn(d,"auto")}render(t,e,r,i,a){const{rx:o,ry:f}=this;return Kn("svg:g",a).call(ee,this,i,a).call(this._transform,this,e).call(c=>c.selectAll().data(t).enter().append("rect").call(re,this).attr("x",this._x(e,r,i)).attr("width",this._width(e,r,i)).attr("y",this._y(e,r,i)).attr("height",this._height(e,r,i)).call(H,"rx",o).call(H,"ry",f).call(Qe,this,r)).node()}_x(t,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?a=>e[a]+i:r+i}_y(t,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?a=>e[a]+i:r+i}_width({x:t},{x:e},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:o,insetRight:f}=this,c=e&&t?t.bandwidth():a-r-i;return Math.max(0,c-o-f)}_height({y:t},{y:e},{marginTop:r,marginBottom:i,height:a}){const{insetTop:o,insetBottom:f}=this,c=e&&t?t.bandwidth():a-r-i;return Math.max(0,c-o-f)}}const ay={ariaLabel:"cell"};class oy extends iy{constructor(t,{x:e,y:r,...i}={}){super(t,{x:{value:e,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,ay)}_transform(t,e){t.call(ie,e,{},0,0)}}function pr(n,t={}){let{x:e,y:r,...i}=t;return[e,r]=Hl(e,r),new oy(n,{...i,x:e,y:r})}const fy=["id"],cy=wc({__name:"StatsTable",props:{palindrome:{type:Boolean,required:!0}},setup(n){const t=n;let e;vc&&e==null&&(e=Ec(),e.loadData());const{isDark:r}=s0(),i=dn(()=>t.palindrome?e==null?void 0:e.statsPal:e==null?void 0:e.statsAll),a=Io(`plot-stats-${t.palindrome}`),o=Io({}),f=u=>{const d=(g,y)=>`${g}-${y}`,l=[],h=[],p=[],m=[];if(!u)return{core:l,totalSeq:h,totalSol:p,totalRow:m};for(const g of u.nbSol)for(const y of u.nbStraight){const v=d(g,y),w=u.lookup.get(v);w&&l.push({nbSol:g,nbStraight:y,nbSnake:w})}return u.totalSeq.forEach((g,y)=>{h.push({x:u.nbStraight[u.nbStraight.length-1]+1,y:u.nbSol[y],total:g})}),u.totalSol.forEach((g,y)=>{p.push({x:u.nbStraight[u.nbStraight.length-1]+2,y:u.nbSol[y],total:g})}),u.nbStraight.forEach(g=>{m.push({x:g,y:u.nbSol[u.nbSol.length-1]+1,total:Ft.sum(l.filter(y=>y.nbStraight===g).map(y=>y.nbSnake))})}),m.push({x:u.nbStraight[u.nbStraight.length-1]+1,y:u.nbSol[u.nbSol.length-1]+1,total:Ft.sum(u.totalSeq)}),m.push({x:u.nbStraight[u.nbStraight.length-1]+2,y:u.nbSol[u.nbSol.length-1]+1,total:Ft.sum(u.totalSol)}),{core:l,totalSeq:h,totalSol:p,totalRow:m}},c=()=>{const u=o.value.core,d=o.value.totalSeq,l=o.value.totalSol,h=o.value.totalRow;if(!u.length)return;const p=d[0].x,m=l[0].x,g=Ft.max(u.map(b=>b.nbSol))+1,y=()=>{var b;return(((b=i.value)==null?void 0:b.nbStraight.length)||0)*65},v=()=>{var b;return(((b=i.value)==null?void 0:b.nbSol.length)||0)*25};return{width:y(),height:v(),padding:.05,grid:!0,x:{axis:"top",label:"nb straights",tickFormat:b=>{if(b<p)return b;if(b==p)return"tot seq";if(b==m)return"tot sol"}},y:{label:"nb solutions",tickFormat:b=>{if(b<g)return b;if(b==g)return"total"}},color:{type:"linear",scheme:"warm"},style:{background:r.value?"#222222":"white"},marks:[pr(u,{x:"nbStraight",y:"nbSol",fill:"nbSnake"}),Wt(u,{x:"nbStraight",y:"nbSol",text:b=>b.nbSnake,fontSize:13}),pr(d,{x:"x",y:"y",fill:r.value?"darkgrey":"lightgrey"}),Wt(d,{x:"x",y:"y",text:b=>b.total,fontSize:13}),pr(l,{x:"x",y:"y",fill:r.value?"darkgrey":"lightgrey"}),Wt(l,{x:"x",y:"y",text:b=>b.total,fontSize:13}),pr(h,{x:"x",y:"y",fill:r.value?"darkgrey":"lightgrey"}),Wt(h,{x:"x",y:"y",text:b=>b.total,fontSize:13})]}},s=()=>{var d;if(o.value=f(i.value),!o.value)return;const u=c();if(u&&u){const l=f0(u),h=`#${a.value}`;Ft.select(h).selectAll("*").remove(),((d=Ft.select(h))==null?void 0:d.node()).append(l)}};return qo(i,()=>{s()}),qo(r,()=>{s()}),l0(()=>{s()}),(u,d)=>(Mc(),Sc("div",{id:a.value},null,8,fy))}});const yc=d0(cy,[["__scopeId","data-v-68a8ffe3"]]),uy=D("h1",{id:"stats",tabindex:"-1"},[sn("Stats "),D("a",{class:"header-anchor",href:"#stats","aria-label":'Permalink to "Stats"'},"​")],-1),sy=D("h2",{id:"observations",tabindex:"-1"},[sn("Observations "),D("a",{class:"header-anchor",href:"#observations","aria-label":'Permalink to "Observations"'},"​")],-1),ly=D("p",null,"We can make the following observations after the full search:",-1),dy=D("p",null,"Totals:",-1),hy=D("thead",null,[D("tr",null,[D("th",null,"Quantity"),D("th",null,"Value")])],-1),py=D("td",null,"Number of solutions",-1),gy=D("td",null,"Number of snakes",-1),my=D("p",null,"Number of paths with start/end positions:",-1),by=D("thead",null,[D("tr",null,[D("th",null,"Start/End Cubelet"),D("th",null,"Value"),D("th",null,"Fraction")])],-1),yy=D("td",null,"Corner",-1),wy=D("td",null,"Face",-1),vy=D("td",null,"Edge",-1),My=D("td",null,"Center",-1),Sy=p0('<h2 id="distribution" tabindex="-1">Distribution <a class="header-anchor" href="#distribution" aria-label="Permalink to &quot;Distribution&quot;">​</a></h2><p>To get an overview of the distribution of solutions, the snakes are aggregated by:</p><ul><li>number of <strong>straight cubelets</strong> on the horizontal axis</li><li>number of <strong>solutions</strong> on the vertical axix</li></ul><p>The right most colmuns are for each line i.e. a given number of <strong>solutions</strong>:</p><ul><li>the total number of <strong>sequences</strong></li><li>the total number of <strong>solutions</strong></li></ul><p>The bottom row is the sum of each column. We can check that in total:</p>',6),xy=D("p",null,"This operation is done for:",-1),_y=D("ul",null,[D("li",null,"all snakes"),D("li",null,"only palindromic snakes")],-1),$y=D("h2",{id:"all-snakes",tabindex:"-1"},[sn("All Snakes "),D("a",{class:"header-anchor",href:"#all-snakes","aria-label":'Permalink to "All Snakes"'},"​")],-1),Ty=D("p",null,"Distribution of solutions for all snakes:",-1),Cy=D("h2",{id:"palindromic-snakes",tabindex:"-1"},[sn("Palindromic Snakes "),D("a",{class:"header-anchor",href:"#palindromic-snakes","aria-label":'Permalink to "Palindromic Snakes"'},"​")],-1),Ey=D("p",null,"Distribution of solutions for palindromic snakes only, i.e. those which are symmetrical by reversing cubelet order:",-1),Ay=D("h2",{id:"remarks",tabindex:"-1"},[sn("Remarks "),D("a",{class:"header-anchor",href:"#remarks","aria-label":'Permalink to "Remarks"'},"​")],-1),Dy=D("p",null,"How frequent are snake cubes ?",-1),Ny=D("em",null,"total",-1),ky=D("strong",null,"snakes",-1),Ry=D("strong",null,"sequence",-1),Ly=D("strong",null,"snake",-1),Oy=D("em",null,"plausible",-1),Uy=D("strong",null,"snakes",-1),Fy=D("strong",null,"snakes",-1),Py=D("strong",null,"snake cubes",-1),zy=JSON.parse('{"title":"Stats","description":"","frontmatter":{},"headers":[],"relativePath":"section/stats.md"}'),Iy={name:"section/stats.md"},Hy=wc({...Iy,setup(n){let t;vc&&t==null&&(t=Ec(),t.loadData());const e=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbSeq)||0)}),r=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbSol)||0)}),i=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbEndCenter)||0)}),a=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbEndFace)||0)}),o=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbEndEdge)||0)}),f=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbEndCorner)||0)}),c=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracEndCenter)||0)}),s=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracEndFace)||0)}),u=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracEndEdge)||0)}),d=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracEndCorner)||0)}),l=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbCandidate)||0)}),h=dn(()=>{var g;return bt(((g=t==null?void 0:t.statsMisc)==null?void 0:g.nbPlausible)||0)}),p=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracPlausibleOverCandidate)||0)}),m=dn(()=>{var g;return Pt(100*((g=t==null?void 0:t.statsMisc)==null?void 0:g.fracRealOverPlausible)||0)});return(g,y)=>{const v=h0("ClientOnly");return Mc(),Sc("div",null,[uy,sy,ly,D("ul",null,[D("li",null,[dy,D("table",null,[hy,D("tbody",null,[D("tr",null,[py,D("td",null,cn(un(r)),1)]),D("tr",null,[gy,D("td",null,cn(un(e)),1)])])])]),D("li",null,[my,D("table",null,[by,D("tbody",null,[D("tr",null,[yy,D("td",null,cn(un(f)),1),D("td",null,cn(un(d))+" %",1)]),D("tr",null,[wy,D("td",null,cn(un(a)),1),D("td",null,cn(un(s))+" %",1)]),D("tr",null,[vy,D("td",null,cn(un(o)),1),D("td",null,cn(un(u))+" %",1)]),D("tr",null,[My,D("td",null,cn(un(i)),1),D("td",null,cn(un(c))+" %",1)])])])])]),Sy,D("ul",null,[D("li",null,"the number of snakes is the expected "+cn(un(e)),1),D("li",null,"the number of solutions is the expected "+cn(un(r)),1)]),xy,_y,$y,Ty,Ke(v,null,{default:Yo(()=>[Ke(yc,{palindrome:!1})]),_:1}),Cy,Ey,Ke(v,null,{default:Yo(()=>[Ke(yc,{palindrome:!0})]),_:1}),Ay,Dy,D("p",null,[sn("The "),Ny,sn(" number of candidate "),ky,sn(" is 2^(27-2)/2 = "+cn(un(l))+" (each cubelet is either a straight or a turn, except the 2 ends, and a ",1),Ry,sn(" and its reverse represent the same "),Ly,sn(").")]),D("p",null,[sn("The number of "),Oy,sn(" candidates "),Uy,sn(" (i.e. excluding the snakes that obviously cannot be folded into a 3x3x3 cube, i.e. the "),Fy,sn(" with 2 or more consecutive straights) is "+cn(un(h))+" (determined by brute force).",1)]),D("p",null,[sn("So very Few ("+cn(un(p))+" %) of all candidates are plausible snakes, but a decent number ("+cn(un(m))+" %) of all plausible snakes are actual ",1),Py,sn(". In other words, plausible candidates make it quite often.")])])}}});export{zy as __pageData,Hy as default};
